/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */

//  Ramda v0.24.1
//  https://github.com/ramda/ramda
//  (c) 2013-2017 Scott Sauyet, Michael Hurley, and David Chambers
//  Ramda may be freely distributed under the MIT license.


!function(t,n){"function"==typeof define&&define.amd?define([],n):t.DataListJS=n()}(this,function(){var t,n,r;return function(e){function i(t,n){return E.call(t,n)}function u(t,n){var r,e,i,u,o,s,c,a,f,l,p,h,d=n&&n.split("/"),y=b.map,v=y&&y["*"]||{};if(t){for(t=t.split("/"),o=t.length-1,b.nodeIdCompat&&S.test(t[o])&&(t[o]=t[o].replace(S,"")),"."===t[0].charAt(0)&&d&&(h=d.slice(0,d.length-1),t=h.concat(t)),f=0;f<t.length;f++)if("."===(p=t[f]))t.splice(f,1),f-=1;else if(".."===p){if(0===f||1===f&&".."===t[2]||".."===t[f-1])continue;f>0&&(t.splice(f-1,2),f-=2)}t=t.join("/")}if((d||v)&&y){for(r=t.split("/"),f=r.length;f>0;f-=1){if(e=r.slice(0,f).join("/"),d)for(l=d.length;l>0;l-=1)if((i=y[d.slice(0,l).join("/")])&&(i=i[e])){u=i,s=f;break}if(u)break;!c&&v&&v[e]&&(c=v[e],a=f)}!u&&c&&(u=c,s=a),u&&(r.splice(0,s,u),t=r.join("/"))}return t}function o(t,n){return function(){var r=x.call(arguments,0);return"string"!=typeof r[0]&&1===r.length&&r.push(null),d.apply(e,r.concat([t,n]))}}function s(t){return function(n){return u(n,t)}}function c(t){return function(n){g[t]=n}}function a(t){if(i(m,t)){var n=m[t];delete m[t],w[t]=!0,h.apply(e,n)}if(!i(g,t)&&!i(w,t))throw new Error("No "+t);return g[t]}function f(t){var n,r=t?t.indexOf("!"):-1;return r>-1&&(n=t.substring(0,r),t=t.substring(r+1,t.length)),[n,t]}function l(t){return t?f(t):[]}function p(t){return function(){return b&&b.config&&b.config[t]||{}}}var h,d,y,v,g={},m={},b={},w={},E=Object.prototype.hasOwnProperty,x=[].slice,S=/\.js$/;y=function(t,n){var r,e=f(t),i=e[0],o=n[1];return t=e[1],i&&(i=u(i,o),r=a(i)),i?t=r&&r.normalize?r.normalize(t,s(o)):u(t,o):(t=u(t,o),e=f(t),i=e[0],t=e[1],i&&(r=a(i))),{f:i?i+"!"+t:t,n:t,pr:i,p:r}},v={require:function(t){return o(t)},exports:function(t){var n=g[t];return void 0!==n?n:g[t]={}},module:function(t){return{id:t,uri:"",exports:g[t],config:p(t)}}},h=function(t,n,r,u){var s,f,p,h,d,b,E,x=[],S=typeof r;if(u=u||t,b=l(u),"undefined"===S||"function"===S){for(n=!n.length&&r.length?["require","exports","module"]:n,d=0;d<n.length;d+=1)if(h=y(n[d],b),"require"===(f=h.f))x[d]=v.require(t);else if("exports"===f)x[d]=v.exports(t),E=!0;else if("module"===f)s=x[d]=v.module(t);else if(i(g,f)||i(m,f)||i(w,f))x[d]=a(f);else{if(!h.p)throw new Error(t+" missing "+f);h.p.load(h.n,o(u,!0),c(f),{}),x[d]=g[f]}p=r?r.apply(g[t],x):void 0,t&&(s&&s.exports!==e&&s.exports!==g[t]?g[t]=s.exports:p===e&&E||(g[t]=p))}else t&&(g[t]=r)},t=n=d=function(t,n,r,i,u){if("string"==typeof t)return v[t]?v[t](n):a(y(t,l(n)).f);if(!t.splice){if(b=t,b.deps&&d(b.deps,b.callback),!n)return;n.splice?(t=n,n=r,r=null):t=e}return n=n||function(){},"function"==typeof r&&(r=i,i=u),i?h(e,t,n,r):setTimeout(function(){h(e,t,n,r)},4),d},d.config=function(t){return d(t)},t._defined=g,r=function(t,n,r){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");n.splice||(r=n,n=[]),i(g,t)||i(m,t)||(m[t]=[t,n,r])},r.amd={jQuery:!0}}(),r("build/almond",function(){}),function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof r&&r.amd?r("vendor/ramda",["exports"],n):n(t.R={})}(this,function(t){"use strict";function n(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function r(t){return function r(e){return 0===arguments.length||n(e)?r:t.apply(this,arguments)}}function e(t){return function e(i,u){switch(arguments.length){case 0:return e;case 1:return n(i)?e:r(function(n){return t(i,n)});default:return n(i)&&n(u)?e:n(i)?r(function(n){return t(n,u)}):n(u)?r(function(n){return t(i,n)}):t(i,u)}}}function i(t,n){t=t||[],n=n||[];var r,e=t.length,i=n.length,u=[];for(r=0;r<e;)u[u.length]=t[r],r+=1;for(r=0;r<i;)u[u.length]=n[r],r+=1;return u}function u(t,n){switch(t){case 0:return function(){return n.apply(this,arguments)};case 1:return function(t){return n.apply(this,arguments)};case 2:return function(t,r){return n.apply(this,arguments)};case 3:return function(t,r,e){return n.apply(this,arguments)};case 4:return function(t,r,e,i){return n.apply(this,arguments)};case 5:return function(t,r,e,i,u){return n.apply(this,arguments)};case 6:return function(t,r,e,i,u,o){return n.apply(this,arguments)};case 7:return function(t,r,e,i,u,o,s){return n.apply(this,arguments)};case 8:return function(t,r,e,i,u,o,s,c){return n.apply(this,arguments)};case 9:return function(t,r,e,i,u,o,s,c,a){return n.apply(this,arguments)};case 10:return function(t,r,e,i,u,o,s,c,a,f){return n.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function o(t,r,e){return function(){for(var i=[],s=0,c=t,a=0;a<r.length||s<arguments.length;){var f;a<r.length&&(!n(r[a])||s>=arguments.length)?f=r[a]:(f=arguments[s],s+=1),i[a]=f,n(f)||(c-=1),a+=1}return c<=0?e.apply(this,i):u(c,o(t,i,e))}}function s(t){return function i(u,o,s){switch(arguments.length){case 0:return i;case 1:return n(u)?i:e(function(n,r){return t(u,n,r)});case 2:return n(u)&&n(o)?i:n(u)?e(function(n,r){return t(n,o,r)}):n(o)?e(function(n,r){return t(u,n,r)}):r(function(n){return t(u,o,n)});default:return n(u)&&n(o)&&n(s)?i:n(u)&&n(o)?e(function(n,r){return t(n,r,s)}):n(u)&&n(s)?e(function(n,r){return t(n,o,r)}):n(o)&&n(s)?e(function(n,r){return t(u,n,r)}):n(u)?r(function(n){return t(n,o,s)}):n(o)?r(function(n){return t(u,n,s)}):n(s)?r(function(n){return t(u,o,n)}):t(u,o,s)}}}function c(t){return"function"==typeof t["@@transducer/step"]}function a(t,n,r){return function(){if(0===arguments.length)return r();var e=Array.prototype.slice.call(arguments,0),i=e.pop();if(!Tt(i)){for(var u=0;u<t.length;){if("function"==typeof i[t[u]])return i[t[u]].apply(i,e);u+=1}if(c(i)){return n.apply(null,e)(i)}}return r.apply(this,arguments)}}function f(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}function l(t,n){this.xf=n,this.f=t,this.all=!0}function p(t,n){for(var r=0,e=n.length,i=Array(e);r<e;)i[r]=t(n[r]),r+=1;return i}function h(t){return"[object String]"===Object.prototype.toString.call(t)}function d(t){this.f=t}function y(t){return new d(t)}function v(t,n,r){for(var e=0,i=r.length;e<i;){if((n=t["@@transducer/step"](n,r[e]))&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}e+=1}return t["@@transducer/result"](n)}function g(t,n,r){for(var e=r.next();!e.done;){if((n=t["@@transducer/step"](n,e.value))&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}e=r.next()}return t["@@transducer/result"](n)}function m(t,n,r,e){return t["@@transducer/result"](r[e](Mt(t["@@transducer/step"],t),n))}function b(t,n,r){if("function"==typeof t&&(t=y(t)),qt(r))return v(t,n,r);if("function"==typeof r["fantasy-land/reduce"])return m(t,n,r,"fantasy-land/reduce");if(null!=r[Dt])return g(t,n,r[Dt]());if("function"==typeof r.next)return g(t,n,r);if("function"==typeof r.reduce)return m(t,n,r,"reduce");throw new TypeError("reduce: list must be array or iterable")}function w(t,n){this.xf=n,this.f=t}function E(t,n){return Object.prototype.hasOwnProperty.call(n,t)}function x(t,n){this.xf=n,this.f=t,this.any=!1}function S(t,n){for(var r=0,e=n.length-(t-1),i=new Array(e>=0?e:0);r<e;)i[r]=Array.prototype.slice.call(n,r,r+t),r+=1;return i}function A(t,n){this.xf=n,this.pos=0,this.full=!1,this.acc=new Array(t)}function O(t){return"[object Function]"===Object.prototype.toString.call(t)}function j(t){return function n(r){for(var e,i,u,o=[],s=0,c=r.length;s<c;){if(qt(r[s]))for(e=t?n(r[s]):r[s],u=0,i=e.length;u<i;)o[o.length]=e[u],u+=1;else o[o.length]=r[s];s+=1}return o}}function _(t){return{"@@transducer/value":t,"@@transducer/reduced":!0}}function k(t){return new RegExp(t.source,(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":""))}function I(t,n,r,e){var i=function(i){for(var u=n.length,o=0;o<u;){if(t===n[o])return r[o];o+=1}n[o+1]=t,r[o+1]=i;for(var s in t)i[s]=e?I(t[s],n,r,!0):t[s];return i};switch(In(t)){case"Object":return i({});case"Array":return i([]);case"Date":return new Date(t.valueOf());case"RegExp":return k(t);default:return t}}function T(t,n){return function(){return n.call(this,t.apply(this,arguments))}}function W(t,n){return function(){var r=arguments.length;if(0===r)return n();var e=arguments[r-1];return Tt(e)||"function"!=typeof e[t]?n.apply(this,arguments):e[t].apply(e,Array.prototype.slice.call(arguments,0,r-1))}}function N(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return u(arguments[0].length,Jt(T,arguments[0],qn(arguments)))}function P(){if(0===arguments.length)throw new Error("compose requires at least one argument");return N.apply(this,Mn(arguments))}function C(){if(0===arguments.length)throw new Error("composeK requires at least one argument");var t=Array.prototype.slice.call(arguments),n=t.pop();return P(P.apply(this,Yt(_n,t)),n)}function q(t,n){return function(){var r=this;return t.apply(r,arguments).then(function(t){return n.call(r,t)})}}function M(){if(0===arguments.length)throw new Error("pipeP requires at least one argument");return u(arguments[0].length,Jt(q,arguments[0],qn(arguments)))}function D(){if(0===arguments.length)throw new Error("composeP requires at least one argument");return M.apply(this,Mn(arguments))}function B(t){for(var n,r=[];!(n=t.next()).done;)r.push(n.value);return r}function V(t,n,r){for(var e=0,i=r.length;e<i;){if(t(n,r[e]))return!0;e+=1}return!1}function L(t){var n=String(t).match(/^function (\w*)/);return null==n?"":n[1]}function F(t,n,r,e){function i(t,n){return H(t,n,r.slice(),e.slice())}var u=B(t),o=B(n);return!V(function(t,n){return!V(i,n,t)},o,u)}function H(t,n,r,e){if(Dn(t,n))return!0;var i=In(t);if(i!==In(n))return!1;if(null==t||null==n)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof n["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](n)&&"function"==typeof n["fantasy-land/equals"]&&n["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof n.equals)return"function"==typeof t.equals&&t.equals(n)&&"function"==typeof n.equals&&n.equals(t);switch(i){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===L(t.constructor))return t===n;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof n||!Dn(t.valueOf(),n.valueOf()))return!1;break;case"Date":if(!Dn(t.valueOf(),n.valueOf()))return!1;break;case"Error":return t.name===n.name&&t.message===n.message;case"RegExp":if(t.source!==n.source||t.global!==n.global||t.ignoreCase!==n.ignoreCase||t.multiline!==n.multiline||t.sticky!==n.sticky||t.unicode!==n.unicode)return!1}for(var u=r.length-1;u>=0;){if(r[u]===t)return e[u]===n;u-=1}switch(i){case"Map":return t.size===n.size&&F(t.entries(),n.entries(),r.concat([t]),e.concat([n]));case"Set":return t.size===n.size&&F(t.values(),n.values(),r.concat([t]),e.concat([n]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var o=Qt(t);if(o.length!==Qt(n).length)return!1;var s=r.concat([t]),c=e.concat([n]);for(u=o.length-1;u>=0;){var a=o[u];if(!E(a,n)||!H(n[a],t[a],s,c))return!1;u-=1}return!0}function z(t,n,r){var e,i;if("function"==typeof t.indexOf)switch(typeof n){case"number":if(0===n){for(e=1/n;r<t.length;){if(0===(i=t[r])&&1/i===e)return r;r+=1}return-1}if(n!==n){for(;r<t.length;){if("number"==typeof(i=t[r])&&i!==i)return r;r+=1}return-1}return t.indexOf(n,r);case"string":case"boolean":case"function":case"undefined":return t.indexOf(n,r);case"object":if(null===n)return t.indexOf(n,r)}for(;r<t.length;){if(Bn(t[r],n))return r;r+=1}return-1}function R(t,n){return z(n,t,0)>=0}function U(t){return'"'+t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}function Q(t){return function(){return!t.apply(this,arguments)}}function Y(t,n){for(var r=0,e=n.length,i=[];r<e;)t(n[r])&&(i[i.length]=n[r]),r+=1;return i}function $(t){return"[object Object]"===Object.prototype.toString.call(t)}function K(t,n){this.xf=n,this.f=t}function Z(t,n){var r=function(r){var e=n.concat([t]);return R(r,e)?"<Circular>":Z(r,e)},e=function(t,n){return p(function(n){return U(n)+": "+r(t[n])},n.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+p(r,t).join(", ")+"))";case"[object Array]":return"["+p(r,t).concat(e(t,zn(function(t){return/^\d+$/.test(t)},Qt(t)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof t?"new Boolean("+r(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?r(NaN):U(Ln(t)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof t?"new Number("+r(t.valueOf())+")":1/t==-1/0?"-0":t.toString(10);case"[object String]":return"object"==typeof t?"new String("+r(t.valueOf())+")":U(t);case"[object Undefined]":return"undefined";default:if("function"==typeof t.toString){var i=t.toString();if("[object Object]"!==i)return i}return"{"+e(t,Qt(t)).join(", ")+"}"}}function J(t,n,r,e){this.valueFn=t,this.valueAcc=n,this.keyFn=r,this.xf=e,this.inputs={}}function X(t,n){this.xf=n,this.n=t}function G(t,n){this.xf=n,this.n=t,this.i=0}function tt(t,n){return hr(t<n.length?n.length-t:0,n)}function nt(t,n){this.xf=n,this.pos=0,this.full=!1,this.acc=new Array(t)}function rt(t,n){for(var r=n.length-1;r>=0&&t(n[r]);)r-=1;return Cn(0,r+1,n)}function et(t,n){this.f=t,this.retained=[],this.xf=n}function it(t,n){this.xf=n,this.pred=t,this.lastValue=void 0,this.seenFirstValue=!1}function ut(t,n){this.xf=n,this.f=t}function ot(t,n){this.xf=n,this.f=t,this.found=!1}function st(t,n){this.xf=n,this.f=t,this.idx=-1,this.found=!1}function ct(t,n){this.xf=n,this.f=t}function at(t,n){this.xf=n,this.f=t,this.idx=-1,this.lastIdx=-1}function ft(t){return t}function lt(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}function pt(t,n,r){var e,i=typeof t;switch(i){case"string":case"number":return 0===t&&1/t==-1/0?!!r._items["-0"]||(n&&(r._items["-0"]=!0),!1):null!==r._nativeSet?n?(e=r._nativeSet.size,r._nativeSet.add(t),r._nativeSet.size===e):r._nativeSet.has(t):i in r._items?t in r._items[i]||(n&&(r._items[i][t]=!0),!1):(n&&(r._items[i]={},r._items[i][t]=!0),!1);case"boolean":if(i in r._items){var u=t?1:0;return!!r._items[i][u]||(n&&(r._items[i][u]=!0),!1)}return n&&(r._items[i]=t?[!1,!0]:[!0,!1]),!1;case"function":return null!==r._nativeSet?n?(e=r._nativeSet.size,r._nativeSet.add(t),r._nativeSet.size===e):r._nativeSet.has(t):i in r._items?!!R(t,r._items[i])||(n&&r._items[i].push(t),!1):(n&&(r._items[i]=[t]),!1);case"undefined":return!!r._items[i]||(n&&(r._items[i]=!0),!1);case"object":if(null===t)return!!r._items.null||(n&&(r._items.null=!0),!1);default:return i=Object.prototype.toString.call(t),i in r._items?!!R(t,r._items[i])||(n&&r._items[i].push(t),!1):(n&&(r._items[i]=[t]),!1)}}function ht(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1,e=arguments.length;r<e;){var i=arguments[r];if(null!=i)for(var u in i)E(u,i)&&(n[u]=i[u]);r+=1}return n}function dt(t){if(c(t))return t;if(qt(t))return de;if("string"==typeof t)return ye;if("object"==typeof t)return ve;throw new Error("Cannot create transformer for "+t)}function yt(t){return"[object Number]"===Object.prototype.toString.call(t)}function vt(t){return[t]}function gt(t){return e(function(n,r){return u(Math.max(0,n.length-r.length),function(){return n.apply(this,t(r,arguments))})})}function mt(){if(0===arguments.length)throw new Error("pipeK requires at least one argument");return C.apply(this,Mn(arguments))}function bt(t,n){this.xf=n,this.f=t}function wt(t,n){this.xf=n,this.f=t}function Et(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var xt=r(function(t){return function(){return t}}),St=xt(!1),At=xt(!0),Ot={"@@functional/placeholder":!0},jt=e(function(t,n){return Number(t)+Number(n)}),_t=e(function(t,n){return 1===t?r(n):u(t,o(t,[],n))}),kt=r(function(t){return _t(t.length,function(){var n=0,r=arguments[0],e=arguments[arguments.length-1],u=Array.prototype.slice.call(arguments,0);return u[0]=function(){var t=r.apply(this,i(arguments,[n,e]));return n+=1,t},t.apply(this,u)})}),It=s(function(t,n,r){if(n>=r.length||n<-r.length)return r;var e=n<0?r.length:0,u=e+n,o=i(r);return o[u]=t(r[u]),o}),Tt=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)},Wt={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}};l.prototype["@@transducer/init"]=Wt.init,l.prototype["@@transducer/result"]=function(t){return this.all&&(t=this.xf["@@transducer/step"](t,!0)),this.xf["@@transducer/result"](t)},l.prototype["@@transducer/step"]=function(t,n){return this.f(n)||(this.all=!1,t=f(this.xf["@@transducer/step"](t,!1))),t};var Nt=e(function(t,n){return new l(t,n)}),Pt=e(a(["all"],Nt,function(t,n){for(var r=0;r<n.length;){if(!t(n[r]))return!1;r+=1}return!0})),Ct=e(function(t,n){return n>t?n:t}),qt=r(function(t){return!!Tt(t)||!!t&&("object"==typeof t&&(!h(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))});d.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},d.prototype["@@transducer/result"]=function(t){return t},d.prototype["@@transducer/step"]=function(t,n){return this.f(t,n)};var Mt=e(function(t,n){return u(t.length,function(){return t.apply(n,arguments)})}),Dt="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";w.prototype["@@transducer/init"]=Wt.init,w.prototype["@@transducer/result"]=Wt.result,w.prototype["@@transducer/step"]=function(t,n){return this.xf["@@transducer/step"](t,this.f(n))};var Bt=e(function(t,n){return new w(t,n)}),Vt=Object.prototype.toString,Lt=function(){return"[object Arguments]"===Vt.call(arguments)?function(t){return"[object Arguments]"===Vt.call(t)}:function(t){return E("callee",t)}},Ft=!{toString:null}.propertyIsEnumerable("toString"),Ht=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],zt=function(){return arguments.propertyIsEnumerable("length")}(),Rt=function(t,n){for(var r=0;r<t.length;){if(t[r]===n)return!0;r+=1}return!1},Ut="function"!=typeof Object.keys||zt?function(t){if(Object(t)!==t)return[];var n,r,e=[],i=zt&&Lt(t);for(n in t)!E(n,t)||i&&"length"===n||(e[e.length]=n);if(Ft)for(r=Ht.length-1;r>=0;)n=Ht[r],E(n,t)&&!Rt(e,n)&&(e[e.length]=n),r-=1;return e}:function(t){return Object(t)!==t?[]:Object.keys(t)},Qt=r(Ut),Yt=e(a(["fantasy-land/map","map"],Bt,function(t,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return _t(n.length,function(){return t.call(this,n.apply(this,arguments))});case"[object Object]":return b(function(r,e){return r[e]=t(n[e]),r},{},Qt(n));default:return p(t,n)}})),$t=e(function(t,n){for(var r=n,e=0;e<t.length;){if(null==r)return;r=r[t[e]],e+=1}return r}),Kt=e(function(t,n){return $t([t],n)}),Zt=e(function(t,n){return Yt(Kt(t),n)}),Jt=s(b),Xt=r(function(t){return _t(Jt(Ct,0,Zt("length",t)),function(){for(var n=0,r=t.length;n<r;){if(!t[n].apply(this,arguments))return!1;n+=1}return!0})}),Gt=e(function(t,n){return t&&n});x.prototype["@@transducer/init"]=Wt.init,x.prototype["@@transducer/result"]=function(t){return this.any||(t=this.xf["@@transducer/step"](t,!1)),this.xf["@@transducer/result"](t)},x.prototype["@@transducer/step"]=function(t,n){return this.f(n)&&(this.any=!0,t=f(this.xf["@@transducer/step"](t,!0))),t};var tn=e(function(t,n){return new x(t,n)}),nn=e(a(["any"],tn,function(t,n){for(var r=0;r<n.length;){if(t(n[r]))return!0;r+=1}return!1})),rn=r(function(t){return _t(Jt(Ct,0,Zt("length",t)),function(){for(var n=0,r=t.length;n<r;){if(t[n].apply(this,arguments))return!0;n+=1}return!1})}),en=e(function(t,n){return"function"==typeof n["fantasy-land/ap"]?n["fantasy-land/ap"](t):"function"==typeof t.ap?t.ap(n):"function"==typeof t?function(r){return t(r)(n(r))}:b(function(t,r){return i(t,Yt(r,n))},[],t)});A.prototype["@@transducer/init"]=Wt.init,A.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},A.prototype["@@transducer/step"]=function(t,n){return this.store(n),this.full?this.xf["@@transducer/step"](t,this.getCopy()):t},A.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},A.prototype.getCopy=function(){return i(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))};var un=e(function(t,n){return new A(t,n)}),on=e(a([],un,S)),sn=e(function(t,n){return i(n,[t])}),cn=e(function(t,n){return t.apply(this,n)}),an=r(function(t){for(var n=Qt(t),r=n.length,e=[],i=0;i<r;)e[i]=t[n[i]],i+=1;return e}),fn=r(function t(n){return n=Yt(function(n){return"function"==typeof n?n:t(n)},n),_t(Jt(Ct,0,Zt("length",an(n))),function(){var t=arguments;return Yt(function(n){return cn(n,t)},n)})}),ln=e(function(t,n){return n(t)}),pn=s(function(t,n,r){var e=t(n),i=t(r);return e<i?-1:e>i?1:0}),hn=s(function(t,n,r){var e={};for(var i in r)e[i]=r[i];return e[t]=n,e}),dn=Number.isInteger||function(t){return t<<0===t},yn=r(function(t){return null==t}),vn=s(function t(n,r,e){if(0===n.length)return r;var i=n[0];if(n.length>1){var u=!yn(e)&&E(i,e)?e[i]:dn(n[1])?[]:{};r=t(Array.prototype.slice.call(n,1),r,u)}if(dn(i)&&Tt(e)){var o=[].concat(e);return o[i]=r,o}return hn(i,r,e)}),gn=e(function(t,n){switch(t){case 0:return function(){return n.call(this)};case 1:return function(t){return n.call(this,t)};case 2:return function(t,r){return n.call(this,t,r)};case 3:return function(t,r,e){return n.call(this,t,r,e)};case 4:return function(t,r,e,i){return n.call(this,t,r,e,i)};case 5:return function(t,r,e,i,u){return n.call(this,t,r,e,i,u)};case 6:return function(t,r,e,i,u,o){return n.call(this,t,r,e,i,u,o)};case 7:return function(t,r,e,i,u,o,s){return n.call(this,t,r,e,i,u,o,s)};case 8:return function(t,r,e,i,u,o,s,c){return n.call(this,t,r,e,i,u,o,s,c)};case 9:return function(t,r,e,i,u,o,s,c,a){return n.call(this,t,r,e,i,u,o,s,c,a)};case 10:return function(t,r,e,i,u,o,s,c,a,f){return n.call(this,t,r,e,i,u,o,s,c,a,f)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}}),mn=r(function(t){return gn(2,t)}),bn=e(function(t,n){var r=_t(t,n);return _t(t,function(){return b(en,Yt(r,arguments[0]),Array.prototype.slice.call(arguments,1))})}),wn=r(function(t){return bn(t.length,t)}),En=e(function(t,n){return O(t)?function(){return t.apply(this,arguments)&&n.apply(this,arguments)}:wn(Gt)(t,n)}),xn=r(function(t){return _t(t.length,t)}),Sn=xn(function(t){return t.apply(this,Array.prototype.slice.call(arguments,1))}),An=function(t){return{"@@transducer/init":Wt.init,"@@transducer/result":function(n){return t["@@transducer/result"](n)},"@@transducer/step":function(n,r){var e=t["@@transducer/step"](n,r);return e["@@transducer/reduced"]?_(e):e}}},On=function(t){var n=An(t);return{"@@transducer/init":Wt.init,"@@transducer/result":function(t){return n["@@transducer/result"](t)},"@@transducer/step":function(t,r){return qt(r)?b(n,t,r):b(n,t,[r])}}},jn=e(function(t,n){return Yt(t,On(n))}),_n=e(a(["fantasy-land/chain","chain"],jn,function(t,n){return"function"==typeof n?function(r){return t(n(r))(r)}:j(!1)(Yt(t,n))})),kn=s(function(t,n,r){if(t>n)throw new Error("min must not be greater than max in clamp(min, max, value)");return r<t?t:r>n?n:r}),In=r(function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}),Tn=r(function(t){return null!=t&&"function"==typeof t.clone?t.clone():I(t,[],[],!0)}),Wn=r(function(t){return function(n,r){return t(n,r)?-1:t(r,n)?1:0}}),Nn=r(function(t){return!t}),Pn=wn(Nn),Cn=s(W("slice",function(t,n,r){return Array.prototype.slice.call(r,t,n)})),qn=r(W("tail",Cn(1,1/0))),Mn=r(function(t){return h(t)?t.split("").reverse().join(""):Array.prototype.slice.call(t,0).reverse()}),Dn=e(function(t,n){return t===n?0!==t||1/t==1/n:t!==t&&n!==n}),Bn=e(function(t,n){return H(t,n,[],[])}),Vn=function(t){return(t<10?"0":"")+t},Ln="function"==typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+Vn(t.getUTCMonth()+1)+"-"+Vn(t.getUTCDate())+"T"+Vn(t.getUTCHours())+":"+Vn(t.getUTCMinutes())+":"+Vn(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};K.prototype["@@transducer/init"]=Wt.init,K.prototype["@@transducer/result"]=Wt.result,K.prototype["@@transducer/step"]=function(t,n){return this.f(n)?this.xf["@@transducer/step"](t,n):t};var Fn=e(function(t,n){return new K(t,n)}),Hn=e(a(["filter"],Fn,function(t,n){return $(n)?b(function(r,e){return t(n[e])&&(r[e]=n[e]),r},{},Qt(n)):Y(t,n)})),zn=e(function(t,n){return Hn(Q(t),n)}),Rn=r(function(t){return Z(t,[])}),Un=e(function(t,n){if(Tt(t)){if(Tt(n))return t.concat(n);throw new TypeError(Rn(n)+" is not an array")}if(h(t)){if(h(n))return t+n;throw new TypeError(Rn(n)+" is not a string")}if(null!=t&&O(t["fantasy-land/concat"]))return t["fantasy-land/concat"](n);if(null!=t&&O(t.concat))return t.concat(n);throw new TypeError(Rn(t)+' does not have a method named "concat" or "fantasy-land/concat"')}),Qn=r(function(t){return u(Jt(Ct,0,Yt(function(t){return t[0].length},t)),function(){for(var n=0;n<t.length;){if(t[n][0].apply(this,arguments))return t[n][1].apply(this,arguments);n+=1}})}),Yn=e(function(t,n){if(t>10)throw new Error("Constructor with greater than ten arguments");return 0===t?function(){return new n}:xn(gn(t,function(t,r,e,i,u,o,s,c,a,f){switch(arguments.length){case 1:return new n(t);case 2:return new n(t,r);case 3:return new n(t,r,e);case 4:return new n(t,r,e,i);case 5:return new n(t,r,e,i,u);case 6:return new n(t,r,e,i,u,o);case 7:return new n(t,r,e,i,u,o,s);case 8:return new n(t,r,e,i,u,o,s,c);case 9:return new n(t,r,e,i,u,o,s,c,a);case 10:return new n(t,r,e,i,u,o,s,c,a,f)}}))}),$n=r(function(t){return Yn(t.length,t)}),Kn=e(R),Zn=e(function(t,n){return _t(Jt(Ct,0,Zt("length",n)),function(){var r=arguments,e=this;return t.apply(e,p(function(t){return t.apply(e,r)},n))})});J.prototype["@@transducer/init"]=Wt.init,J.prototype["@@transducer/result"]=function(t){var n;for(n in this.inputs)if(E(n,this.inputs)&&(t=this.xf["@@transducer/step"](t,this.inputs[n]),t["@@transducer/reduced"])){t=t["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](t)},J.prototype["@@transducer/step"]=function(t,n){var r=this.keyFn(n);return this.inputs[r]=this.inputs[r]||[r,this.valueAcc],this.inputs[r][1]=this.valueFn(this.inputs[r][1],n),t};var Jn=o(4,[],function(t,n,r,e){return new J(t,n,r,e)}),Xn=o(4,[],a([],Jn,function(t,n,r,e){return b(function(e,i){var u=r(i);return e[u]=t(E(u,e)?e[u]:n,i),e},{},e)})),Gn=Xn(function(t,n){return t+1},0),tr=jt(-1),nr=e(function(t,n){return null==n||n!==n?t:n}),rr=s(function(t,n,r){var e=t(n),i=t(r);return e>i?-1:e<i?1:0}),er=e(function(t,n){for(var r=[],e=0,i=t.length;e<i;)R(t[e],n)||R(t[e],r)||(r[r.length]=t[e]),e+=1;return r}),ir=s(function(t,n,r){for(var e=[],i=0,u=n.length;i<u;)V(t,n[i],r)||V(t,n[i],e)||e.push(n[i]),i+=1;return e}),ur=e(function(t,n){var r={};for(var e in n)r[e]=n[e];return delete r[t],r}),or=s(function(t,n,r){var e=Array.prototype.slice.call(r,0);return e.splice(t,n),e}),sr=s(function(t,n,r){return It(xt(n),t,r)}),cr=e(function t(n,r){switch(n.length){case 0:return r;case 1:return dn(n[0])?or(n[0],1,r):ur(n[0],r);default:var e=n[0],i=Array.prototype.slice.call(n,1);return null==r[e]?r:dn(n[0])?sr(e,t(i,r[e]),r):hn(e,t(i,r[e]),r)}}),ar=e(function(t,n){return t/n});X.prototype["@@transducer/init"]=Wt.init,X.prototype["@@transducer/result"]=Wt.result,X.prototype["@@transducer/step"]=function(t,n){return this.n>0?(this.n-=1,t):this.xf["@@transducer/step"](t,n)};var fr=e(function(t,n){return new X(t,n)}),lr=e(a(["drop"],fr,function(t,n){return Cn(Math.max(0,t),1/0,n)}));G.prototype["@@transducer/init"]=Wt.init,G.prototype["@@transducer/result"]=Wt.result,G.prototype["@@transducer/step"]=function(t,n){this.i+=1;var r=0===this.n?t:this.xf["@@transducer/step"](t,n);return this.n>=0&&this.i>=this.n?f(r):r};var pr=e(function(t,n){return new G(t,n)}),hr=e(a(["take"],pr,function(t,n){return Cn(0,t<0?1/0:t,n)}));nt.prototype["@@transducer/init"]=Wt.init,nt.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},nt.prototype["@@transducer/step"]=function(t,n){return this.full&&(t=this.xf["@@transducer/step"](t,this.acc[this.pos])),this.store(n),t},nt.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)};var dr=e(function(t,n){return new nt(t,n)}),yr=e(a([],dr,tt));et.prototype["@@transducer/init"]=Wt.init,et.prototype["@@transducer/result"]=function(t){return this.retained=null,this.xf["@@transducer/result"](t)},et.prototype["@@transducer/step"]=function(t,n){return this.f(n)?this.retain(t,n):this.flush(t,n)},et.prototype.flush=function(t,n){return t=b(this.xf["@@transducer/step"],t,this.retained),this.retained=[],this.xf["@@transducer/step"](t,n)},et.prototype.retain=function(t,n){return this.retained.push(n),t};var vr=e(function(t,n){return new et(t,n)}),gr=e(a([],vr,rt));it.prototype["@@transducer/init"]=Wt.init,it.prototype["@@transducer/result"]=Wt.result,it.prototype["@@transducer/step"]=function(t,n){var r=!1;return this.seenFirstValue?this.pred(this.lastValue,n)&&(r=!0):this.seenFirstValue=!0,this.lastValue=n,r?t:this.xf["@@transducer/step"](t,n)};var mr=e(function(t,n){return new it(t,n)}),br=e(function(t,n){var r=t<0?n.length+t:t;return h(n)?n.charAt(r):n[r]}),wr=br(-1),Er=e(a([],mr,function(t,n){var r=[],e=1,i=n.length;if(0!==i)for(r[0]=n[0];e<i;)t(wr(r),n[e])||(r[r.length]=n[e]),e+=1;return r})),xr=r(a([],mr(Bn),Er(Bn)));ut.prototype["@@transducer/init"]=Wt.init,ut.prototype["@@transducer/result"]=Wt.result,ut.prototype["@@transducer/step"]=function(t,n){if(this.f){if(this.f(n))return t;this.f=null}return this.xf["@@transducer/step"](t,n)};var Sr=e(function(t,n){return new ut(t,n)}),Ar=e(a(["dropWhile"],Sr,function(t,n){for(var r=0,e=n.length;r<e&&t(n[r]);)r+=1;return Cn(r,1/0,n)})),Or=e(function(t,n){return t||n}),jr=e(function(t,n){return O(t)?function(){return t.apply(this,arguments)||n.apply(this,arguments)}:wn(Or)(t,n)}),_r=r(function(t){return null!=t&&"function"==typeof t["fantasy-land/empty"]?t["fantasy-land/empty"]():null!=t&&null!=t.constructor&&"function"==typeof t.constructor["fantasy-land/empty"]?t.constructor["fantasy-land/empty"]():null!=t&&"function"==typeof t.empty?t.empty():null!=t&&null!=t.constructor&&"function"==typeof t.constructor.empty?t.constructor.empty():Tt(t)?[]:h(t)?"":$(t)?{}:Lt(t)?function(){return arguments}():void 0}),kr=e(function(t,n){return lr(t>=0?n.length-t:0,n)}),Ir=e(function(t,n){return Bn(kr(t.length,n),t)}),Tr=s(function(t,n,r){return Bn(t(n),t(r))}),Wr=s(function(t,n,r){return Bn(n[t],r[t])}),Nr=e(function t(n,r){var e,i,u,o={};for(i in r)e=n[i],u=typeof e,o[i]="function"===u?e(r[i]):e&&"object"===u?t(e,r[i]):r[i];return o});ot.prototype["@@transducer/init"]=Wt.init,ot.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,void 0)),this.xf["@@transducer/result"](t)},ot.prototype["@@transducer/step"]=function(t,n){return this.f(n)&&(this.found=!0,t=f(this.xf["@@transducer/step"](t,n))),t};var Pr=e(function(t,n){return new ot(t,n)}),Cr=e(a(["find"],Pr,function(t,n){for(var r=0,e=n.length;r<e;){if(t(n[r]))return n[r];r+=1}}));st.prototype["@@transducer/init"]=Wt.init,st.prototype["@@transducer/result"]=function(t){
return this.found||(t=this.xf["@@transducer/step"](t,-1)),this.xf["@@transducer/result"](t)},st.prototype["@@transducer/step"]=function(t,n){return this.idx+=1,this.f(n)&&(this.found=!0,t=f(this.xf["@@transducer/step"](t,this.idx))),t};var qr=e(function(t,n){return new st(t,n)}),Mr=e(a([],qr,function(t,n){for(var r=0,e=n.length;r<e;){if(t(n[r]))return r;r+=1}return-1}));ct.prototype["@@transducer/init"]=Wt.init,ct.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.last))},ct.prototype["@@transducer/step"]=function(t,n){return this.f(n)&&(this.last=n),t};var Dr=e(function(t,n){return new ct(t,n)}),Br=e(a([],Dr,function(t,n){for(var r=n.length-1;r>=0;){if(t(n[r]))return n[r];r-=1}}));at.prototype["@@transducer/init"]=Wt.init,at.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.lastIdx))},at.prototype["@@transducer/step"]=function(t,n){return this.idx+=1,this.f(n)&&(this.lastIdx=this.idx),t};var Vr=e(function(t,n){return new at(t,n)}),Lr=e(a([],Vr,function(t,n){for(var r=n.length-1;r>=0;){if(t(n[r]))return r;r-=1}return-1})),Fr=r(j(!0)),Hr=r(function(t){return _t(t.length,function(n,r){var e=Array.prototype.slice.call(arguments,0);return e[0]=r,e[1]=n,t.apply(this,e)})}),zr=e(W("forEach",function(t,n){for(var r=n.length,e=0;e<r;)t(n[e]),e+=1;return n})),Rr=e(function(t,n){for(var r=Qt(n),e=0;e<r.length;){var i=r[e];t(n[i],i,n),e+=1}return n}),Ur=r(function(t){for(var n={},r=0;r<t.length;)n[t[r][0]]=t[r][1],r+=1;return n}),Qr=e(W("groupBy",Xn(function(t,n){return null==t&&(t=[]),t.push(n),t},null))),Yr=e(function(t,n){for(var r=[],e=0,i=n.length;e<i;){for(var u=e+1;u<i&&t(n[u-1],n[u]);)u+=1;r.push(n.slice(e,u)),e=u}return r}),$r=e(function(t,n){return t>n}),Kr=e(function(t,n){return t>=n}),Zr=e(E),Jr=e(function(t,n){return t in n}),Xr=br(0),Gr=r(ft),te=s(function(t,n,r){return _t(Math.max(t.length,n.length,r.length),function(){return t.apply(this,arguments)?n.apply(this,arguments):r.apply(this,arguments)})}),ne=jt(1),re=Xn(function(t,n){return n},null),ee=e(function(t,n){return"function"!=typeof n.indexOf||Tt(n)?z(n,t,0):n.indexOf(t)}),ie=Cn(0,-1),ue=s(function(t,n,r){return Y(function(n){return V(t,n,r)},n)}),oe=s(function(t,n,r){t=t<r.length&&t>=0?t:r.length;var e=Array.prototype.slice.call(r,0);return e.splice(t,0,n),e}),se=s(function(t,n,r){return t=t<r.length&&t>=0?t:r.length,[].concat(Array.prototype.slice.call(r,0,t),n,Array.prototype.slice.call(r,t))});lt.prototype.add=function(t){return!pt(t,!0,this)},lt.prototype.has=function(t){return pt(t,!1,this)};var ce=e(function(t,n){for(var r,e,i=new lt,u=[],o=0;o<n.length;)e=n[o],r=t(e),i.add(r)&&u.push(e),o+=1;return u}),ae=ce(Gr),fe=e(function(t,n){var r,e;return t.length>n.length?(r=t,e=n):(r=n,e=t),ae(Y(Hr(R)(r),e))}),le=e(W("intersperse",function(t,n){for(var r=[],e=0,i=n.length;e<i;)e===i-1?r.push(n[e]):r.push(n[e],t),e+=1;return r})),pe="function"==typeof Object.assign?Object.assign:ht,he=e(function(t,n){var r={};return r[t]=n,r}),de={"@@transducer/init":Array,"@@transducer/step":function(t,n){return t.push(n),t},"@@transducer/result":ft},ye={"@@transducer/init":String,"@@transducer/step":function(t,n){return t+n},"@@transducer/result":ft},ve={"@@transducer/init":Object,"@@transducer/step":function(t,n){return pe(t,qt(n)?he(n[0],n[1]):n)},"@@transducer/result":ft},ge=s(function(t,n,r){return c(t)?b(n(t),t["@@transducer/init"](),r):b(n(dt(t)),I(t,[],[],!1),r)}),me=r(function(t){for(var n=Qt(t),r=n.length,e=0,i={};e<r;){var u=n[e],o=t[u],s=E(o,i)?i[o]:i[o]=[];s[s.length]=u,e+=1}return i}),be=r(function(t){for(var n=Qt(t),r=n.length,e=0,i={};e<r;){var u=n[e];i[t[u]]=u,e+=1}return i}),we=e(function(t,n){return _t(t+1,function(){var r=arguments[t];if(null!=r&&O(r[n]))return r[n].apply(r,Array.prototype.slice.call(arguments,0,t));throw new TypeError(Rn(r)+' does not have a method named "'+n+'"')})}),Ee=e(function(t,n){return null!=n&&n.constructor===t||n instanceof t}),xe=r(function(t){return null!=t&&Bn(t,_r(t))}),Se=we(1,"join"),Ae=r(function(t){return Zn(function(){return Array.prototype.slice.call(arguments,0)},t)}),Oe=r(function(t){var n,r=[];for(n in t)r[r.length]=n;return r}),je=e(function(t,n){if("function"!=typeof n.lastIndexOf||Tt(n)){for(var r=n.length-1;r>=0;){if(Bn(n[r],t))return r;r-=1}return-1}return n.lastIndexOf(t)}),_e=r(function(t){return null!=t&&yt(t.length)?t.length:NaN}),ke=e(function(t,n){return function(r){return function(e){return Yt(function(t){return n(t,e)},r(t(e)))}}}),Ie=r(function(t){return ke(br(t),sr(t))}),Te=r(function(t){return ke($t(t),vn(t))}),We=r(function(t){return ke(Kt(t),hn(t))}),Ne=e(function(t,n){return t<n}),Pe=e(function(t,n){return t<=n}),Ce=s(function(t,n,r){for(var e=0,i=r.length,u=[],o=[n];e<i;)o=t(o[0],r[e]),u[e]=o[1],e+=1;return[o[0],u]}),qe=s(function(t,n,r){for(var e=r.length-1,i=[],u=[n];e>=0;)u=t(r[e],u[0]),i[e]=u[1],e-=1;return[i,u[0]]}),Me=e(function(t,n){return b(function(r,e){return r[e]=t(n[e],e,n),r},{},Qt(n))}),De=e(function(t,n){return n.match(t)||[]}),Be=e(function(t,n){return dn(t)?!dn(n)||n<1?NaN:(t%n+n)%n:NaN}),Ve=s(function(t,n,r){return t(r)>t(n)?r:n}),Le=Jt(jt,0),Fe=r(function(t){return Le(t)/t.length}),He=r(function(t){var n=t.length;if(0===n)return NaN;var r=2-n%2,e=(n-r)/2;return Fe(Array.prototype.slice.call(t,0).sort(function(t,n){return t<n?-1:t>n?1:0}).slice(e,e+r))}),ze=e(function(t,n){var r={};return u(n.length,function(){var e=t.apply(this,arguments);return E(e,r)||(r[e]=n.apply(this,arguments)),r[e]})}),Re=ze(function(){return Rn(arguments)}),Ue=e(function(t,n){return pe({},t,n)}),Qe=r(function(t){return pe.apply(null,[{}].concat(t))}),Ye=s(function(t,n,r){var e,i={};for(e in n)E(e,n)&&(i[e]=E(e,r)?t(e,n[e],r[e]):n[e]);for(e in r)E(e,r)&&!E(e,i)&&(i[e]=r[e]);return i}),$e=s(function t(n,r,e){return Ye(function(r,e,i){return $(e)&&$(i)?t(n,e,i):n(r,e,i)},r,e)}),Ke=e(function(t,n){return $e(function(t,n,r){return n},t,n)}),Ze=e(function(t,n){return $e(function(t,n,r){return r},t,n)}),Je=s(function(t,n,r){return $e(function(n,r,e){return t(r,e)},n,r)}),Xe=s(function(t,n,r){return Ye(function(n,r,e){return t(r,e)},n,r)}),Ge=e(function(t,n){return n<t?n:t}),ti=s(function(t,n,r){return t(r)<t(n)?r:n}),ni=e(function(t,n){return t%n}),ri=e(function(t,n){return t*n}),ei=r(function(t){return-t}),ii=e(Q(a(["any"],tn,nn))),ui=r(function(t){return _t(t<0?1:t+1,function(){return br(t,arguments)})}),oi=s(function(t,n,r){return t(n(r))}),si=r(vt),ci=e(function(t,n){for(var r={},e={},i=0,u=t.length;i<u;)e[t[i]]=1,i+=1;for(var o in n)e.hasOwnProperty(o)||(r[o]=n[o]);return r}),ai=r(function(t){var n,r=!1;return u(t.length,function(){return r?n:(r=!0,n=t.apply(this,arguments))})}),fi=function(t){return{value:t,map:function(n){return fi(n(t))}}},li=s(function(t,n,r){return t(function(t){return fi(n(t))})(r).value}),pi=e(function(t,n){return[t,n]}),hi=gt(i),di=gt(Hr(i)),yi=Ae([Hn,zn]),vi=s(function(t,n,r){return Bn($t(t,r),n)}),gi=s(function(t,n,r){return nr(t,$t(n,r))}),mi=s(function(t,n,r){return n.length>0&&t($t(n,r))}),bi=e(function(t,n){for(var r={},e=0;e<t.length;)t[e]in n&&(r[t[e]]=n[t[e]]),e+=1;return r}),wi=e(function(t,n){for(var r={},e=0,i=t.length;e<i;){var u=t[e];r[u]=n[u],e+=1}return r}),Ei=e(function(t,n){var r={};for(var e in n)t(n[e],e,n)&&(r[e]=n[e]);return r}),xi=e(function(t,n){return i([t],n)}),Si=Jt(ri,1),Ai=e(function(t,n){return _t(n.length,function(){for(var r=[],e=0;e<n.length;)r.push(n[e].call(this,arguments[e])),e+=1;return t.apply(this,r.concat(Array.prototype.slice.call(arguments,n.length)))})}),Oi=Ai(p,[wi,Gr]),ji=s(function(t,n,r){return Bn(n,r[t])}),_i=s(function(t,n,r){return Ee(t,r[n])}),ki=s(function(t,n,r){return null!=r&&E(n,r)?r[n]:t}),Ii=s(function(t,n,r){return t(r[n])}),Ti=e(function(t,n){for(var r=t.length,e=[],i=0;i<r;)e[i]=n[t[i]],i+=1;return e}),Wi=e(function(t,n){if(!yt(t)||!yt(n))throw new TypeError("Both arguments to range must be numbers");for(var r=[],e=t;e<n;)r.push(e),e+=1;return r}),Ni=s(function(t,n,r){for(var e=r.length-1;e>=0;)n=t(r[e],n),e-=1;return n}),Pi=o(4,[],function(t,n,r,e){return b(function(r,e){return t(r,e)?n(r,e):f(r)},r,e)}),Ci=r(f),qi=e(function(t,n){var r,e=Number(n),i=0;if(e<0||isNaN(e))throw new RangeError("n must be a non-negative number");for(r=new Array(e);i<e;)r[i]=t(i),i+=1;return r}),Mi=e(function(t,n){return qi(xt(t),n)}),Di=s(function(t,n,r){return r.replace(t,n)}),Bi=s(function(t,n,r){for(var e=0,i=r.length,u=[n];e<i;)n=t(n,r[e]),u[e+1]=n,e+=1;return u}),Vi=e(function(t,n){return"function"==typeof n.sequence?n.sequence(t):Ni(function(t,n){return en(Yt(xi,t),n)},t([]),n)}),Li=s(function(t,n,r){return li(t,xt(n),r)}),Fi=e(function(t,n){return Array.prototype.slice.call(n,0).sort(t)}),Hi=e(function(t,n){return Array.prototype.slice.call(n,0).sort(function(n,r){var e=t(n),i=t(r);return e<i?-1:e>i?1:0})}),zi=e(function(t,n){return Array.prototype.slice.call(n,0).sort(function(n,r){for(var e=0,i=0;0===e&&i<t.length;)e=t[i](n,r),i+=1;return e})}),Ri=we(1,"split"),Ui=e(function(t,n){return[Cn(0,t,n),Cn(t,_e(n),n)]}),Qi=e(function(t,n){if(t<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var r=[],e=0;e<n.length;)r.push(Cn(e,e+=t,n));return r}),Yi=e(function(t,n){for(var r=0,e=n.length,i=[];r<e&&!t(n[r]);)i.push(n[r]),r+=1;return[i,Array.prototype.slice.call(n,r)]}),$i=e(function(t,n){return Bn(hr(t.length,n),t)}),Ki=e(function(t,n){return Number(t)-Number(n)}),Zi=e(function(t,n){return Un(er(t,n),er(n,t))}),Ji=s(function(t,n,r){return Un(ir(t,n,r),ir(t,r,n))}),Xi=e(function(t,n){for(var r=n.length-1;r>=0&&t(n[r]);)r-=1;return Cn(r+1,1/0,n)});bt.prototype["@@transducer/init"]=Wt.init,bt.prototype["@@transducer/result"]=Wt.result,bt.prototype["@@transducer/step"]=function(t,n){return this.f(n)?this.xf["@@transducer/step"](t,n):f(t)};var Gi=e(function(t,n){return new bt(t,n)}),tu=e(a(["takeWhile"],Gi,function(t,n){for(var r=0,e=n.length;r<e&&t(n[r]);)r+=1;return Cn(0,r,n)}));wt.prototype["@@transducer/init"]=Wt.init,wt.prototype["@@transducer/result"]=Wt.result,wt.prototype["@@transducer/step"]=function(t,n){return this.f(n),this.xf["@@transducer/step"](t,n)};var nu=e(function(t,n){return new wt(t,n)}),ru=e(a([],nu,function(t,n){return t(n),n})),eu=e(function(t,n){if(!Et(t))throw new TypeError("‘test’ requires a value of type RegExp as its first argument; received "+Rn(t));return k(t).test(n)}),iu=we(0,"toLowerCase"),uu=r(function(t){var n=[];for(var r in t)E(r,t)&&(n[n.length]=[r,t[r]]);return n}),ou=r(function(t){var n=[];for(var r in t)n[n.length]=[r,t[r]];return n}),su=we(0,"toUpperCase"),cu=_t(4,function(t,n,r,e){return b(t("function"==typeof n?y(n):n),r,e)}),au=r(function(t){for(var n=0,r=[];n<t.length;){for(var e=t[n],i=0;i<e.length;)void 0===r[i]&&(r[i]=[]),r[i].push(e[i]),i+=1;n+=1}return r}),fu=s(function(t,n,r){return"function"==typeof r["fantasy-land/traverse"]?r["fantasy-land/traverse"](n,t):Vi(t,Yt(n,r))}),lu="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",pu="​",hu="function"==typeof String.prototype.trim,du=hu&&!lu.trim()&&pu.trim()?function(t){return t.trim()}:function(t){var n=new RegExp("^["+lu+"]["+lu+"]*"),r=new RegExp("["+lu+"]["+lu+"]*$");return t.replace(n,"").replace(r,"")},yu=r(du),vu=e(function(t,n){return u(t.length,function(){try{return t.apply(this,arguments)}catch(t){return n.apply(this,i([t],arguments))}})}),gu=r(function(t){return function(){return t(Array.prototype.slice.call(arguments,0))}}),mu=r(function(t){return gn(1,t)}),bu=e(function(t,n){return _t(t,function(){for(var r,e=1,i=n,u=0;e<=t&&"function"==typeof i;)r=e===t?arguments.length:u+i.length,i=i.apply(this,Array.prototype.slice.call(arguments,u,r)),e+=1,u=r;return i})}),wu=e(function(t,n){for(var r=t(n),e=[];r&&r.length;)e[e.length]=r[0],r=t(r[1]);return e}),Eu=e(P(ae,i)),xu=e(function(t,n){for(var r,e=0,i=n.length,u=[];e<i;)r=n[e],V(t,r,u)||(u[u.length]=r),e+=1;return u}),Su=s(function(t,n,r){return xu(t,i(n,r))}),Au=s(function(t,n,r){return t(r)?r:n(r)}),Ou=_n(ft),ju=s(function(t,n,r){for(var e=r;!t(e);)e=n(e);return e}),_u=r(function(t){var n,r=[];for(n in t)r[r.length]=t[n];return r}),ku=function(t){return{value:t,"fantasy-land/map":function(){return this}}},Iu=e(function(t,n){return t(ku)(n).value}),Tu=s(function(t,n,r){return t(r)?n(r):r}),Wu=e(function(t,n){for(var r in t)if(E(r,t)&&!t[r](n[r]))return!1;return!0}),Nu=e(function(t,n){return Wu(Yt(Bn,t),n)}),Pu=e(function(t,n){return zn(Hr(R)(t),n)}),Cu=e(function(t,n){for(var r,e=0,i=t.length,u=n.length,o=[];e<i;){for(r=0;r<u;)o[o.length]=[t[e],n[r]],r+=1;e+=1}return o}),qu=e(function(t,n){for(var r=[],e=0,i=Math.min(t.length,n.length);e<i;)r[e]=[t[e],n[e]],e+=1;return r}),Mu=e(function(t,n){for(var r=0,e=Math.min(t.length,n.length),i={};r<e;)i[t[r]]=n[r],r+=1;return i}),Du=s(function(t,n,r){for(var e=[],i=0,u=Math.min(n.length,r.length);i<u;)e[i]=t(n[i],r[i]),i+=1;return e});t.F=St,t.T=At,t.__=Ot,t.add=jt,t.addIndex=kt,t.adjust=It,t.all=Pt,t.allPass=Xt,t.always=xt,t.and=Gt,t.any=nn,t.anyPass=rn,t.ap=en,t.aperture=on,t.append=sn,t.apply=cn,t.applySpec=fn,t.applyTo=ln,t.ascend=pn,t.assoc=hn,t.assocPath=vn,t.binary=mn,t.bind=Mt,t.both=En,t.call=Sn,t.chain=_n,t.clamp=kn,t.clone=Tn,t.comparator=Wn,t.complement=Pn,t.compose=P,t.composeK=C,t.composeP=D,t.concat=Un,t.cond=Qn,t.construct=$n,t.constructN=Yn,t.contains=Kn,t.converge=Zn,t.countBy=Gn,t.curry=xn,t.curryN=_t,t.dec=tr,t.defaultTo=nr,t.descend=rr,t.difference=er,t.differenceWith=ir,t.dissoc=ur,t.dissocPath=cr,t.divide=ar,t.drop=lr,t.dropLast=yr,t.dropLastWhile=gr,t.dropRepeats=xr,t.dropRepeatsWith=Er,t.dropWhile=Ar,t.either=jr,t.empty=_r,t.endsWith=Ir,t.eqBy=Tr,t.eqProps=Wr,t.equals=Bn,t.evolve=Nr,t.filter=Hn,t.find=Cr,t.findIndex=Mr,t.findLast=Br,t.findLastIndex=Lr,t.flatten=Fr,t.flip=Hr,t.forEach=zr,t.forEachObjIndexed=Rr,t.fromPairs=Ur,t.groupBy=Qr,t.groupWith=Yr,t.gt=$r,t.gte=Kr,t.has=Zr,t.hasIn=Jr,t.head=Xr,t.identical=Dn,t.identity=Gr,t.ifElse=te,t.inc=ne,t.indexBy=re,t.indexOf=ee,t.init=ie,t.innerJoin=ue,t.insert=oe,t.insertAll=se,t.intersection=fe,t.intersperse=le,t.into=ge,t.invert=me,t.invertObj=be,t.invoker=we,t.is=Ee,t.isEmpty=xe,t.isNil=yn,t.join=Se,t.juxt=Ae,t.keys=Qt,t.keysIn=Oe,t.last=wr,t.lastIndexOf=je,t.length=_e,t.lens=ke,t.lensIndex=Ie,t.lensPath=Te,t.lensProp=We,t.lift=wn,t.liftN=bn,t.lt=Ne,t.lte=Pe,t.map=Yt,t.mapAccum=Ce,t.mapAccumRight=qe,t.mapObjIndexed=Me,t.match=De,t.mathMod=Be,t.max=Ct,t.maxBy=Ve,t.mean=Fe,t.median=He,t.memoize=Re,t.memoizeWith=ze,t.merge=Ue,t.mergeAll=Qe,t.mergeDeepLeft=Ke,t.mergeDeepRight=Ze,t.mergeDeepWith=Je,t.mergeDeepWithKey=$e,t.mergeWith=Xe,t.mergeWithKey=Ye,t.min=Ge,t.minBy=ti,t.modulo=ni,t.multiply=ri,t.nAry=gn,t.negate=ei,t.none=ii,t.not=Nn,t.nth=br,t.nthArg=ui,t.o=oi,t.objOf=he,t.of=si,t.omit=ci,t.once=ai,t.or=Or,t.over=li,t.pair=pi,t.partial=hi,t.partialRight=di,t.partition=yi,t.path=$t,t.pathEq=vi,t.pathOr=gi,t.pathSatisfies=mi,t.pick=bi,t.pickAll=wi,t.pickBy=Ei,t.pipe=N,t.pipeK=mt,t.pipeP=M,t.pluck=Zt,t.prepend=xi,t.product=Si,t.project=Oi,t.prop=Kt,t.propEq=ji,t.propIs=_i,t.propOr=ki,t.propSatisfies=Ii,t.props=Ti,t.range=Wi,t.reduce=Jt,t.reduceBy=Xn,t.reduceRight=Ni,t.reduceWhile=Pi,t.reduced=Ci,t.reject=zn,t.remove=or,t.repeat=Mi,t.replace=Di,t.reverse=Mn,t.scan=Bi,t.sequence=Vi,t.set=Li,t.slice=Cn,t.sort=Fi,t.sortBy=Hi,t.sortWith=zi,t.split=Ri,t.splitAt=Ui,t.splitEvery=Qi,t.splitWhen=Yi,t.startsWith=$i,t.subtract=Ki,t.sum=Le;t.symmetricDifference=Zi,t.symmetricDifferenceWith=Ji,t.tail=qn,t.take=hr,t.takeLast=kr,t.takeLastWhile=Xi,t.takeWhile=tu,t.tap=ru,t.test=eu,t.times=qi,t.toLower=iu,t.toPairs=uu,t.toPairsIn=ou,t.toString=Rn,t.toUpper=su,t.transduce=cu,t.transpose=au,t.traverse=fu,t.trim=yu,t.tryCatch=vu,t.type=In,t.unapply=gu,t.unary=mu,t.uncurryN=bu,t.unfold=wu,t.union=Eu,t.unionWith=Su,t.uniq=ae,t.uniqBy=ce,t.uniqWith=xu,t.unless=Au,t.unnest=Ou,t.until=ju,t.update=sr,t.useWith=Ai,t.values=an,t.valuesIn=_u,t.view=Iu,t.when=Tu,t.where=Wu,t.whereEq=Nu,t.without=Pu,t.xprod=Cu,t.zip=qu,t.zipObj=Mu,t.zipWith=Du,Object.defineProperty(t,"__esModule",{value:!0})}),function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof r&&r.amd?r("vendor/Bacon",n):t.Bacon=n()}(this,function(){"use strict";function t(){}function n(t){return t}function r(t){return t.slice(0)}function e(t,n){if(!n)throw new Error(t)}function i(t){if((null!=t?t._isObservable:void 0)&&!(null!=t?t._isProperty:void 0))throw new Error("Observable is not a Property : "+t)}function u(t){if(!(null!=t?t._isEventStream:void 0))throw new Error("not an EventStream : "+t)}function o(t){if(!(null!=t?t._isObservable:void 0))throw new Error("not an Observable : "+t)}function s(t){return e("not a function : "+t,Mt.isFunction(t))}function c(t){if(!Nt(t))throw new Error("not an array : "+t)}function a(t){return e("no arguments supported",0===t.length)}function f(t){for(var n=arguments.length,r=1;1<n?r<n:r>n;1<n?r++:r--)for(var e in arguments[r])t[e]=arguments[r][e];return t}function l(t,n){function r(){}var e={}.hasOwnProperty;r.prototype=n.prototype,t.prototype=new r;for(var i in n)e.call(n,i)&&(t[i]=n[i]);return t}function p(t){return"undefined"!=typeof Symbol&&Symbol[t]?Symbol[t]:"undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol[t]=Symbol.for(t):"@@"+t}function h(t){this.value=t}function d(){this.id=++Bt}function y(t){if(!(this instanceof y))return new y(t);d.call(this),this.value=t}function v(t){if(!(this instanceof v))return new v(t);y.call(this,t)}function g(){if(!(this instanceof g))return new g;d.call(this)}function m(t){if(!(this instanceof m))return new m(t);this.error=t,d.call(this)}function b(t){return new v(t)}function w(t){return new y(t)}function E(){return new g}function x(t){return t&&t._isEvent?t:w(t)}function S(t){if(Ft.length&&!S.running)try{S.running=!0,Ft.forEach(function(n){n(t)})}finally{delete S.running}}function A(t,n,r){this.context=t,this.method=n,this.args=r}function O(t,n){var r=t||n;if(r&&r._isDesc)return t||n;for(var e=arguments.length,i=Array(e>2?e-2:0),u=2;u<e;u++)i[u-2]=arguments[u];return new A(t,n,i)}function j(t,n){return n.desc=t,n}function _(t){return Nt(t)?Mt.flatMap(_,t):Pt(t)?[t]:(void 0!==t&&null!==t?t._isSource:void 0)?[t.obs]:[]}function k(t,n){this._subscribe=t,this._handleEvent=n,this.subscribe=Mt.bind(this.subscribe,this),this.handleEvent=Mt.bind(this.handleEvent,this),this.pushing=!1,this.ended=!1,this.prevError=void 0,this.unsubSrc=void 0,this.subscriptions=[],this.queue=[]}function I(t){return function(n){for(var r=arguments.length,e=Array(r>1?r-1:0),i=1;i<r;i++)e[i-1]=arguments[i];if("object"==typeof n&&e.length){var u=n,o=e[0];n=function(){return u[o].apply(u,arguments)},e=e.slice(1)}return t.apply(void 0,[n].concat(e))}}function T(t){return t=Array.prototype.slice.call(t),Ut.apply(void 0,t)}function W(t,n){return function(){for(var r=arguments.length,e=Array(r),i=0;i<r;i++)e[i]=arguments[i];return t.apply(void 0,n.concat(e))}}function N(t){return function(n){return function(r){if(void 0!==r&&null!==r){var e=r[n];return Mt.isFunction(e)?e.apply(r,t):e}}}}function P(t,n){var r=t.slice(1).split("."),e=Mt.map(N(n),r);return function(t){for(var n,r=0;r<e.length;r++)n=e[r],t=n(t);return t}}function C(t){return"string"==typeof t&&t.length>1&&"."===t.charAt(0)}function q(t,n){return Ut.apply(void 0,[t].concat(n))}function M(t,n,r,e){if(n&&n._isProperty){var i=n.sampledBy(t,function(t,n){return[t,n]});return e.call(i,function(t){return t[0]}).map(function(t){return t[1]})}return n=q(n,r),e.call(t,n)}function D(t){if(Mt.isFunction(t))return t;if(C(t)){var n=B(t);return function(t,r){return t[n](r)}}throw new Error("not a function or a field key: "+t)}function B(t){return t.slice(1)}function V(t){e("desc missing",t),this.desc=t,this.id=++Qt,this.initialDesc=this.desc}function L(t,n,r){k.call(this,n,r),this.property=t,this.subscribe=Mt.bind(this.subscribe,this),this.current=Ct,this.currentValueRootId=void 0,this.propertyEnded=!1}function F(t,n){return s(n),new H(t,U(Ct,n))}function H(t,n,r){V.call(this,t),s(n),this.dispatcher=new L(this,n,r),S(this)}function z(t,n,r,e){if(!(this instanceof z))return new z(t,n,r);Mt.isFunction(t)&&(r=n,n=t,t=$t),e!==Yt&&(n=R(this,n)),V.call(this,t),this.dispatcher=new k(n,r),S(this)}function R(t,n){var r=!1;return function(e){function i(){var t=o;o=null;for(var n=0;n<t.length;n++){var r=t[n];e(r)}}var u=Rt.isInTransaction();r=!0;var o;try{return n(function(n){if(!r&&!o)return e(n);o?o.push(n):(o=[n],u?Rt.soonButNotYet(t,i):Kt.scheduler.setTimeout(i,0))})}finally{r=!1}}}function U(n,r){return function(e){var i=!1,u=!1,o=t,s=Lt,c=function(){if(!i)return n.forEach(function(n){if(i=!0,(s=e(new v(n)))===Vt)return o(),o=t,t})};return o=r(function(t){return t.hasValue?t.isInitial&&!u?(n=new h(t.value),Lt):(t.isInitial||c(),i=!0,n=new h(t.value),e(t)):(t.isEnd&&(s=c()),s!==Vt?e(t):void 0)}),u=!0,c(),o}}function Q(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.unsubscribe=Mt.bind(this.unsubscribe,this),this.unsubscribed=!1,this.subscriptions=[],this.starting=[];for(var n,r=0;r<t.length;r++)n=t[r],this.add(n)}function Y(){return new z(O(Kt,"never"),function(n){return n(E()),t})}function $(n){return new H(new A(Kt,"constant",[n]),function(r){return r(b(n)),r(E()),t})}function K(t){for(var n=arguments.length,r=Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];return M(this,t,r,function(t){return j(new A(this,"map",[t]),this.withHandler(function(n){return this.push(n.fmap(t))}))})}function Z(t,n){this.obs=t,this.sync=n,this.queue=[]}function J(){Z.apply(this,arguments)}function X(t){Z.call(this,t,!0)}function G(){return rt(z,arguments)}function tt(){return rt(F,arguments)}function nt(t){for(var n=t.length,r=[],i=[],u=0,o=[];u<n;){o[u]=t[u],o[u+1]=t[u+1];for(var s,c=Mt.toArray(t[u]),a=it(t[u+1]),f={f:a,ixs:[]},l=!1,p=0;p<c.length;p++){s=c[p];var h=Mt.indexOf(r,s);l||(l=Z.isTrigger(s)),h<0&&(r.push(s),h=r.length-1);for(var d,y=0;y<f.ixs.length;y++)d=f.ixs[y],d.index===h&&d.count++;f.ixs.push({index:h,count:1})}e("At least one EventStream required",l||!c.length),c.length>0&&i.push(f),u+=2}return e("when: expecting arguments in the form (Observable+,function)+",n%2==0),[r,i,o]}function rt(t,n){if(0===n.length)return Y();var r=nt(n),e=r[0],i=r[1],u=r[2];if(!e.length)return Y();e=Mt.map(Z.fromObservable,e);var o=Mt.any(e,function(t){return t.flatten})&&et(Mt.map(function(t){return t.obs},e)),s=new A(Kt,"when",u),c=t(s,function(t){function n(t){for(var n=0;n<t.ixs.length;n++){var r=t.ixs[n];if(!e[r.index].hasAtLeast(r.count))return!1}return!0}function r(t){for(var n=0;n<t.ixs.length;n++){var r=t.ixs[n];if(!e[r.index].mayHave(r.count))return!0}}function u(t){return!t.source.flatten}function s(s){return function(l){function p(){return Rt.whenDoneWith(c,d)}function h(){if(!(a.length>0))return Lt;for(var r,o=Lt,s=a.pop(),c=0;c<i.length;c++)if(r=i[c],n(r)){for(var f=[],l=0;l<r.ixs.length;l++){var p=e[r.ixs[l].index].consume();f.push(p.value)}var d=r.f.apply(null,f);return o=t(s.e.apply(d)),a.length&&(a=Mt.filter(u,a)),o===Vt?o:h()}}function d(){var n=h();return f&&(Mt.all(e,ut)||Mt.all(i,r))&&(n=Vt,t(E())),n===Vt&&l(),n}return s.subscribe(function(n){if(n.isEnd)f=!0,s.markEnded(),p();else if(n.isError)var r=t(n);else s.push(n),s.sync&&(a.push({source:s,e:n}),o||Rt.hasWaiters()?p():d());return r===Vt&&l(),r||Lt})}}var a=[],f=!1;return new Q(function(){for(var t,n=[],r=0;r<e.length;r++)t=e[r],n.push(s(t));return n}()).unsubscribe});return c}function et(t){function n(t){if(Mt.contains(r,t))return!0;var e=t.internalDeps();return e.length?(r.push(t),Mt.any(e,n)):(r.push(t),!1)}var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Mt.any(t,n)}function it(t){return Mt.isFunction(t)?t:Mt.always(t)}function ut(t){return!t.sync||t.ended}function ot(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return st(n)}function st(t,n){1===t.length&&Nt(t[0])&&(t=t[0]);var r=function(){for(var n=[],r=0;r<t.length;r++)n.push(new X(t[r]));return n}(),e=function(t,r){return new z(t,r,null,n)};return j(new A(Kt,"groupSimultaneous",t),rt(e,[r,function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return n}]))}function ct(t){return j(new A(this,"awaiting",[t]),st([this,t],Yt).map(function(t){return 0===t[1].length}).toProperty(!1).skipDuplicates())}function at(t){return Nt(t[0])?t[0]:Array.prototype.slice.call(t)}function ft(t){return Mt.isFunction(t[0])?[at(Array.prototype.slice.call(t,1)),t[0]]:[at(Array.prototype.slice.call(t,0,t.length-1)),Mt.last(t)]}function lt(n){var r=new z(new A(Kt,"once",[n]),function(e){return Rt.soonButNotYet(r,function(){e(x(n)),e(E())}),t});return r}function pt(t){return 1===t.length&&Pt(t[0])?Mt.always(t[0]):T(t)}function ht(t){return Pt(t)?t:lt(t)}function dt(t,n){var r=new z(O(t,"justInitValue"),function(n){var e=void 0,i=t.dispatcher.subscribe(function(t){return t.isEnd||(e=t),Vt});return Rt.whenDoneWith(r,function(){return void 0!==e&&null!==e&&n(e),n(E())}),i},null,Yt);return r.concat(n,Yt).toProperty()}function yt(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mt.id;return new z(new A(Kt,"fromBinder",[t,n]),function(r){var e=!1,i=!1,u=function(){if(!e)return void 0!==o&&null!==o?(o(),e=!0):i=!0},o=t(function(){for(var t,e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];var s=n.apply(this,i);Nt(s)&&(null!=(t=Mt.last(s))?t._isEvent:void 0)||(s=[s]);for(var c,a=Kt.more,f=0;f<s.length;f++)if(c=s[f],(a=r(c=x(c)))===Kt.noMore||c.isEnd)return u(),a;return a});return i&&u(),u})}function vt(t,n){return j(new A(Kt,"later",[t,n]),yt(function(r){var e=function(){return r([n,E()])},i=Kt.scheduler.setTimeout(e,t);return function(){return Kt.scheduler.clearTimeout(i)}}))}function gt(){if(!(this instanceof gt))return new gt;this.unsubAll=Mt.bind(this.unsubAll,this),this.subscribeAll=Mt.bind(this.subscribeAll,this),this.guardedSink=Mt.bind(this.guardedSink,this),this.sink=void 0,this.subscriptions=[],this.ended=!1,z.call(this,new A(Kt,"Bus",[]),this.subscribeAll)}function mt(t){function n(t){return t[t.length-1]}function r(t,r,e){return n(t)[r]=e,e}function e(t,n){return function(e,i){r(e,t,i[n])}}function i(t,n){return function(e){r(e,t,n)}}function u(t){return Nt(t)?[]:{}}function o(t,n){return function(e){var i=u(n);r(e,t,i),e.push(i)}}function s(t){if(Pt(t))return!0;if(t&&(t.constructor==Object||t.constructor==Array))for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];if(s(r))return!0}}function c(t,n){if(Pt(n))p.push(n),l.push(e(t,p.length-1));else if(s(n)){var r=function(t){t.pop()};l.push(o(t,n)),f(n),l.push(r)}else l.push(i(t,n))}function a(n){for(var r=u(t),e=[r],i=0;i<l.length;i++)(0,l[i])(e,n);return r}function f(t){Mt.each(t,c)}var l=[],p=[],h=s(t)?(f(t),Kt.combineAsArray(p).map(a)):Kt.constant(t);return j(new A(Kt,"combineTemplate",[t]),h)}function bt(n,r){var e,i=this;r=D(r);var u=n,o=!1,s=function(n){var s=!1,c=t,a=Lt,f=function(){s||(s=o=!0,(a=n(new v(u)))===Vt&&(c(),c=t))};return c=i.dispatcher.subscribe(function(t){if(t.hasValue){if(o&&t.isInitial)return Lt;t.isInitial||f(),s=o=!0;var e=u,i=r(e,t.value);return u=i,n(t.apply(i))}if(t.isEnd&&(a=f()),a!==Vt)return n(t)}),Rt.whenDoneWith(e,f),c};return e=new H(new A(this,"scan",[n,r]),s)}function wt(t){this.observable=t}function Et(t,n,r){var e=nn(t),i=e[0],u=e[1];return j(new A(Kt,"fromEvent",[t,n]),yt(function(r){return Mt.isFunction(n)?(n(i.bind(t),r),function(){return n(u.bind(t),r)}):(i.call(t,n,r),function(){return u.call(t,n,r)})},r))}function xt(t,n){return j(new A(Kt,"fromPoll",[t,n]),yt(function(n){var r=Kt.scheduler.setInterval(n,t);return function(){return Kt.scheduler.clearInterval(r)}},n))}function St(t){return[t,E()]}function At(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:St;return j(new A(Kt,"fromPromise",[t]),yt(function(r){var e=t.then(r,function(t){return r(new m(t))});return e&&"function"==typeof e.done&&e.done(),n?function(){if("function"==typeof t.abort)return t.abort()}:function(){}},r))}function Ot(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return j(new A(Kt,"interval",[t,n]),xt(t,function(){return w(n)}))}function jt(){var t=at(arguments);return t.length?new z(new A(Kt,"mergeAll",t),function(n){var r=0,e=function(e){return function(i){return e.dispatcher.subscribe(function(e){if(e.isEnd)return r++,r===t.length?n(E()):Lt;var u=n(e);return u===Vt&&i(),u})}};return new Q(Mt.map(e,t)).unsubscribe}):Y()}function _t(t,n){var r=0;return j(new A(Kt,"repeatedly",[t,n]),xt(t,function(){return n[r++%n.length]}))}function kt(t){var n=0;return yt(function(r){function e(t){return t.isEnd?u?i():u=!0:o=r(t)}function i(){var i;for(u=!0;u&&o!==Vt;)i=t(n++),u=!1,i?s=i.subscribeInternal(e):r(E());return u=!0}var u=!1,o=Lt,s=function(){};return i(),function(){return s()}})}function It(t,n){var r=0;return j(new A(Kt,"sequentially",[t,n]),xt(t,function(){var t=n[r++];return r<n.length?t:r===n.length?[t,E()]:E()}))}function Tt(t){return function(n){try{return lt(t(n))}catch(t){return new m(t)}}}function Wt(t){for(var n=arguments.length,r=Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];for(var i=r.length-1;i>0;)r[i]instanceof Function||(r[i]=Mt.always(r[i])),r[i]=function(t){return function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];return function(n){return t.apply(void 0,[n].concat(r))}}}(r[i]),i-=2;return j(new A(Kt,"update",[t].concat(r)),G.apply(void 0,r).scan(t,function(t,n){return n(t)}))}var Nt=Array.isArray||function(t){return t instanceof Array},Pt=function(t){return t&&t._isObservable};f(h.prototype,{_isSome:!0,getOrElse:function(){return this.value},get:function(){return this.value},filter:function(t){return t(this.value)?new h(this.value):Ct},map:function(t){return new h(t(this.value))},forEach:function(t){return t(this.value)},isDefined:!0,toArray:function(){return[this.value]},inspect:function(){return"Some("+this.value+")"},toString:function(){return this.inspect()}});var Ct={_isNone:!0,getOrElse:function(t){return t},filter:function(){return Ct},map:function(){return Ct},forEach:function(){},isDefined:!1,toArray:function(){return[]},inspect:function(){return"None"},toString:function(){return this.inspect()}},qt=function(t){return t&&(t._isSome||t.isNone)?t:new h(t)},Mt={indexOf:function(){return Array.prototype.indexOf?function(t,n){return t.indexOf(n)}:function(t,n){for(var r,e=0;e<t.length;e++)if(r=t[e],n===r)return e;return-1}}(),indexWhere:function(t,n){for(var r,e=0;e<t.length;e++)if(r=t[e],n(r))return e;return-1},head:function(t){return t[0]},always:function(t){return function(){return t}},negate:function(t){return function(n){return!t(n)}},empty:function(t){return 0===t.length},tail:function(t){return t.slice(1,t.length)},filter:function(t,n){for(var r,e=[],i=0;i<n.length;i++)r=n[i],t(r)&&e.push(r);return e},map:function(t,n){return function(){for(var r,e=[],i=0;i<n.length;i++)r=n[i],e.push(t(r));return e}()},each:function(t,n){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var e=t[r];n(r,e)}},toArray:function(t){return Nt(t)?t:[t]},contains:function(t,n){return-1!==Mt.indexOf(t,n)},id:function(t){return t},last:function(t){return t[t.length-1]},all:function(t){for(var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mt.id,e=0;e<t.length;e++)if(n=t[e],!r(n))return!1;return!0},any:function(t){for(var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mt.id,e=0;e<t.length;e++)if(n=t[e],r(n))return!0;return!1},without:function(t,n){return Mt.filter(function(n){return n!==t},n)},remove:function(t,n){var r=Mt.indexOf(n,t);if(r>=0)return n.splice(r,1)},fold:function(t,n,r){for(var e,i=0;i<t.length;i++)e=t[i],n=r(n,e);return n},flatMap:function(t,n){return Mt.fold(n,[],function(n,r){return n.concat(t(r))})},cached:function(t){var n=Ct;return function(){return(void 0!==n&&null!==n?n._isNone:void 0)&&(n=t(),t=void 0),n}},bind:function(t,n){return function(){return t.apply(n,arguments)}},
isFunction:function(t){return"function"==typeof t},toString:function(t){var n,r,e={}.hasOwnProperty;try{return Dt++,null==t?"undefined":Mt.isFunction(t)?"function":Nt(t)?Dt>5?"[..]":"["+Mt.map(Mt.toString,t).toString()+"]":null!=(null!=t?t.toString:void 0)&&t.toString!==Object.prototype.toString?t.toString():"object"==typeof t?Dt>5?"{..}":"{"+function(){var i=[];for(n in t)e.call(t,n)&&(r=function(){try{return t[n]}catch(t){return t}}(),i.push(Mt.toString(n)+":"+Mt.toString(r)));return i}()+"}":t}finally{Dt--}}},Dt=0,Bt=0;d.prototype._isEvent=!0,d.prototype.isEvent=!0,d.prototype.isEnd=!1,d.prototype.isInitial=!1,d.prototype.isNext=!1,d.prototype.isError=!1,d.prototype.hasValue=!1,d.prototype.filter=function(){return!0},d.prototype.inspect=function(){return this.toString()},d.prototype.log=function(){return this.toString()},d.prototype.toNext=function(){return this},l(y,d),y.prototype.isNext=!0,y.prototype.hasValue=!0,y.prototype.fmap=function(t){return this.apply(t(this.value))},y.prototype.apply=function(t){return new y(t)},y.prototype.filter=function(t){return t(this.value)},y.prototype.toString=function(){return Mt.toString(this.value)},y.prototype.log=function(){return this.value},y.prototype._isNext=!0,l(v,y),v.prototype._isInitial=!0,v.prototype.isInitial=!0,v.prototype.isNext=!1,v.prototype.apply=function(t){return new v(t)},v.prototype.toNext=function(){return new y(this.value)},l(g,d),g.prototype.isEnd=!0,g.prototype.fmap=function(){return this},g.prototype.apply=function(){return this},g.prototype.toString=function(){return"<end>"},l(m,d),m.prototype.isError=!0,m.prototype.fmap=function(){return this},m.prototype.apply=function(){return this},m.prototype.toString=function(){return"<error> "+Mt.toString(this.error)};var Vt="<no-more>",Lt="<more>",Ft=[],Ht=function(t){return Ft.push(t)};f(A.prototype,{_isDesc:!0,deps:function(){return this.cached||(this.cached=_([this.context].concat(this.args))),this.cached},toString:function(){var t=Mt.map(Mt.toString,this.args);return Mt.toString(this.context)+"."+Mt.toString(this.method)+"("+t+")"}});var zt={setTimeout:function(t,n){return setTimeout(t,n)},setInterval:function(t,n){return setInterval(t,n)},clearInterval:function(t){return clearInterval(t)},clearTimeout:function(t){return clearTimeout(t)},now:function(){return(new Date).getTime()}},Rt=function(){function t(){return Mt.toString({rootEvent:v,processingAfters:x,waiterObs:g,waiters:m,aftersStack:b,aftersStackHeight:w,flushed:E})}function n(t){t<=w||(b[t-1]||(b[t-1]=[[],0]),w=t)}function r(){return null!==v}function e(t,n){v?c(t,n):Kt.scheduler.setTimeout(n,0)}function i(t,r){if(!v&&!x)return r();n(1);for(var e=0;e<w-1&&!u(t,b[e][0]);)e++;b[e][0].push([t,r]),v||o()}function u(t,n){for(var r=0;r<n.length;r++)if(n[r][0].id==t.id)return!0;return!1}function o(){var t=w;if(t){var r=!x;x=!0;try{for(;w>=t;){var e=b[w-1];if(!e)throw new Error("Unexpected stack top: "+e);var i=e[0],u=e[1];if(!(u<i.length)){e[0]=[],e[1]=0;break}var o=i[u],s=o[1];e[1]++,n(w+1);var c=!1;try{for(s(),c=!0;w>t&&0==b[w-1][0].length;)w--}finally{c||(b=[],w=0)}}}finally{r&&(x=!1)}}}function c(t,n){if(v){var r=m[t.id];return void 0===r||null===r?(r=m[t.id]=[n],g.push(t)):r.push(n)}return n()}function a(){for(;g.length>0;)f(0,!0);E={}}function f(t,n){var r=g[t],e=r.id,i=m[e];g.splice(t,1),delete m[e],n&&g.length>0&&l(r);for(var u=0;u<i.length;u++)(0,i[u])()}function l(t){if(!E[t.id]){for(var n,r=t.internalDeps(),e=0;e<r.length;e++)if(n=r[e],l(n),m[n.id]){var i=Mt.indexOf(g,n);f(i,!1)}E[t.id]=!0}}function p(t,n,r,e){if(v)return r.apply(n,e);v=t;try{var i=r.apply(n,e);a()}finally{v=null,o()}return i}function h(){return v?v.id:void 0}function d(t,n){function r(){return e=!0,o()}s(n);var e=!1,u=!1,o=function(){return u=!0};return o=t.dispatcher.subscribe(function(u){return i(t,function(){if(!e){if(n(u)===Vt)return r()}})}),u&&o(),r}function y(){return g.length>0}var v=null,g=[],m={},b=[],w=0,E={},x=!1;return{toString:t,whenDoneWith:c,hasWaiters:y,inTransaction:p,currentEventId:h,wrappedSubscribe:d,afterTransaction:i,soonButNotYet:e,isInTransaction:r}}();k.prototype.hasSubscribers=function(){return this.subscriptions.length>0},k.prototype.removeSub=function(t){return this.subscriptions=Mt.without(t,this.subscriptions),this.subscriptions},k.prototype.push=function(t){return t.isEnd&&(this.ended=!0),Rt.inTransaction(t,this,this.pushIt,[t])},k.prototype.pushToSubscriptions=function(t){try{for(var n=this.subscriptions,r=n.length,e=0;e<r;e++){var i=n[e];(i.sink(t)===Vt||t.isEnd)&&this.removeSub(i)}return!0}catch(t){throw this.pushing=!1,this.queue=[],t}},k.prototype.pushIt=function(t){if(this.pushing)return this.queue.push(t),Lt;if(t!==this.prevError){for(t.isError&&(this.prevError=t),this.pushing=!0,this.pushToSubscriptions(t),this.pushing=!1;this.queue.length;)t=this.queue.shift(),this.push(t);return this.hasSubscribers()?Lt:(this.unsubscribeFromSource(),Vt)}},k.prototype.handleEvent=function(t){return this._handleEvent?this._handleEvent(t):this.push(t)},k.prototype.unsubscribeFromSource=function(){this.unsubSrc&&this.unsubSrc(),this.unsubSrc=void 0},k.prototype.subscribe=function(n){var r;return this.ended?(n(E()),t):(s(n),r={sink:n},this.subscriptions.push(r),1===this.subscriptions.length&&(this.unsubSrc=this._subscribe(this.handleEvent),s(this.unsubSrc)),function(t){return function(){if(t.removeSub(r),!t.hasSubscribers())return t.unsubscribeFromSource()}}(this))};var Ut=I(function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];return Mt.isFunction(t)?r.length?W(t,r):t:C(t)?P(t,r):Mt.always(t)}),Qt=0;f(V.prototype,{_isObservable:!0,subscribe:function(t){return Rt.wrappedSubscribe(this,t)},subscribeInternal:function(t){return this.dispatcher.subscribe(t)},onValue:function(){var t=T(arguments);return this.subscribe(function(n){if(n.hasValue)return t(n.value)})},onValues:function(t){return this.onValue(function(n){return t.apply(void 0,n)})},onError:function(){var t=T(arguments);return this.subscribe(function(n){if(n.isError)return t(n.error)})},onEnd:function(){var t=T(arguments);return this.subscribe(function(n){if(n.isEnd)return t()})},name:function(t){return this._name=t,this},withDescription:function(){return this.desc=O.apply(void 0,arguments),this},toString:function(){return this._name?this._name:this.desc.toString()},deps:function(){return this.desc.deps()},internalDeps:function(){return this.initialDesc.deps()}}),V.prototype.assign=V.prototype.onValue,V.prototype.forEach=V.prototype.onValue,V.prototype.inspect=V.prototype.toString,l(L,k),f(L.prototype,{push:function(t){return t.isEnd&&(this.propertyEnded=!0),t.hasValue&&(this.current=new h(t),this.currentValueRootId=Rt.currentEventId()),k.prototype.push.call(this,t)},maybeSubSource:function(n,r){return r===Kt.noMore?t:this.propertyEnded?(n(E()),t):k.prototype.subscribe.call(this,n)},subscribe:function(t){var n=this,r=Kt.more;if(this.current.isDefined&&(this.hasSubscribers()||this.propertyEnded)){var e=Rt.currentEventId(),i=this.currentValueRootId;return!this.propertyEnded&&i&&e&&e!==i?(Rt.whenDoneWith(this.property,function(){if(n.currentValueRootId===i)return t(b(n.current.get().value))}),this.maybeSubSource(t,r)):(Rt.inTransaction(void 0,this,function(){return r=t(b(this.current.get().value))},[]),this.maybeSubSource(t,r))}return this.maybeSubSource(t,r)}}),l(H,V),f(H.prototype,{_isProperty:!0,changes:function(){var t=this;return new z(new A(this,"changes",[]),function(n){return t.dispatcher.subscribe(function(t){if(!t.isInitial)return n(t)})})},withHandler:function(t){return new H(new A(this,"withHandler",[t]),this.dispatcher.subscribe,t)},toProperty:function(){return a(arguments),this}});var Yt={forceAsync:!1},$t=O("Bacon","new EventStream",[]);l(z,V),f(z.prototype,{_isEventStream:!0,toProperty:function(t){var n=0===arguments.length?Ct:qt(t),r=this.dispatcher;return new H(new A(this,"toProperty",[t]),U(n,function(t){return r.subscribe(t)}))},toEventStream:function(){return this},withHandler:function(t){return new z(new A(this,"withHandler",[t]),this.dispatcher.subscribe,t,Yt)}}),f(Q.prototype,{add:function(n){var r=this;if(!this.unsubscribed){var e=!1,i=t;this.starting.push(n);var u=function(){if(!r.unsubscribed)return e=!0,r.remove(i),Mt.remove(n,r.starting)};return i=n(this.unsubscribe,u),this.unsubscribed||e?i():this.subscriptions.push(i),Mt.remove(n,this.starting),i}},remove:function(t){if(!this.unsubscribed)return void 0!==Mt.remove(t,this.subscriptions)?t():void 0},unsubscribe:function(){if(!this.unsubscribed){this.unsubscribed=!0;for(var t=this.subscriptions,n=0;n<t.length;n++)t[n]();return this.subscriptions=[],this.starting=[],[]}},count:function(){return this.unsubscribed?0:this.subscriptions.length+this.starting.length},empty:function(){return 0===this.count()}});var Kt={toString:function(){return"Bacon"},_:Mt,Event:d,Next:y,Initial:v,Error:m,End:g,noMore:Vt,more:Lt,Desc:A,spy:Ht,UpdateBarrier:Rt,scheduler:zt,Dispatcher:k,Observable:V,EventStream:z,Property:H,CompositeUnsubscribe:Q,never:Y,constant:$,version:"2.0.7"};Kt.Bacon=Kt,V.prototype.map=K,V.prototype.withStateMachine=function(t,n){var r=t;return j(new A(this,"withStateMachine",[t,n]),this.withHandler(function(t){var e=n(r,t),i=e[0],u=e[1];r=i;for(var o,s=Lt,c=0;c<u.length;c++)if(o=u[c],(s=this.push(o))===Vt)return s;return s}))};var Zt=function(t,n){return t===n},Jt=function(t){return void 0!==t&&null!==t&&t._isNone};V.prototype.skipDuplicates=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt;return j(new A(this,"skipDuplicates",[]),this.withStateMachine(Ct,function(n,r){return r.hasValue?r.isInitial||Jt(n)||!t(n.get(),r.value)?[new h(r.value),[r]]:[n,[]]:[n,[r]]}))},f(Z.prototype,{_isSource:!0,subscribe:function(t){return this.obs.dispatcher.subscribe(t)},toString:function(){return this.obs.toString()},markEnded:function(){return this.ended=!0,!0},consume:function(){return this.queue[0]},push:function(t){this.queue=[t]},mayHave:function(){return!0},hasAtLeast:function(){return this.queue.length},flatten:!0}),l(J,Z),f(J.prototype,{consume:function(){return this.queue.shift()},push:function(t){return this.queue.push(t)},mayHave:function(t){return!this.ended||this.queue.length>=t},hasAtLeast:function(t){return this.queue.length>=t},flatten:!1}),l(X,Z),f(X.prototype,{consume:function(){var t=this.queue;return this.queue=[],{value:t}},push:function(t){return this.queue.push(t.value)},hasAtLeast:function(){return!0}}),Z.isTrigger=function(t){return null!=t&&(t._isSource?t.sync:t._isEventStream)},Z.fromObservable=function(t){return null!=t&&t._isSource?t:null!=t&&t._isProperty?new Z(t,!1):new J(t,!0)},Kt.when=G,Kt.groupSimultaneous=ot,V.prototype.awaiting=ct,Kt.combineAsArray=function(){var t=at(arguments);if(t.length){for(var n=[],r=0;r<t.length;r++){var e=Pt(t[r])?t[r]:Kt.constant(t[r]);n.push(new Z(e,!0))}return j(new Kt.Desc(Kt,"combineAsArray",t),tt(n,function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return n}))}return $([])},Kt.onValues=function(){return Kt.combineAsArray(Array.prototype.slice.call(arguments,0,arguments.length-1)).onValues(arguments[arguments.length-1])},Kt.combineWith=function(){var t=ft(arguments),n=t[0],r=t[1];return j(new A(Kt,"combineWith",[r].concat(n)),Kt.combineAsArray(n).map(function(t){return r.apply(void 0,t)}))},V.prototype.combine=function(t,n){var r=D(n);return j(new A(this,"combine",[t,n]),Kt.combineAsArray(this,t).map(function(t){return r(t[0],t[1])}))},V.prototype.not=function(){return j(new A(this,"not",[]),this.map(function(t){return!t}))},H.prototype.and=function(t){return j(new A(this,"and",[t]),this.combine(t,function(t,n){return t&&n}))},H.prototype.or=function(t){return j(new A(this,"or",[t]),this.combine(t,function(t,n){return t||n}))},z.prototype.bufferWithTime=function(t){return j(new A(this,"bufferWithTime",[t]),this.bufferWithTimeOrCount(t,Number.MAX_VALUE))},z.prototype.bufferWithCount=function(t){return j(new A(this,"bufferWithCount",[t]),this.bufferWithTimeOrCount(void 0,t))},z.prototype.bufferWithTimeOrCount=function(t,n){var r=function(r){return r.values.length===n?r.flush():void 0!==t?r.schedule():void 0};return j(new A(this,"bufferWithTimeOrCount",[t,n]),this.buffer(t,r,r))},z.prototype.buffer=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i={scheduled:null,end:void 0,values:[],flush:function(){if(this.scheduled&&(Kt.scheduler.clearTimeout(this.scheduled),this.scheduled=null),this.values.length>0){var t=this.values;this.values=[];var n=this.push(w(t));if(null!=this.end)return this.push(this.end);if(n!==Vt)return e(this)}else if(null!=this.end)return this.push(this.end)},schedule:function(){var t=this;if(!this.scheduled)return this.scheduled=n(function(){return t.flush()})}},u=Lt;if(!Mt.isFunction(n)){var o=n;n=function(t){return Kt.scheduler.setTimeout(t,o)}}return j(new A(this,"buffer",[]),this.withHandler(function(t){var n=this;return i.push=function(t){return n.push(t)},t.isError?u=this.push(t):t.isEnd?(i.end=t,i.scheduled||i.flush()):(i.values.push(t.value),r(i)),u}))},V.prototype.filter=function(t){i(t);for(var n=arguments.length,r=Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];return M(this,t,r,function(t){return j(new A(this,"filter",[t]),this.withHandler(function(n){return n.filter(t)?this.push(n):Lt}))})},Kt.once=lt,V.prototype.flatMap_=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this,e=[r],i=[],u=this._isProperty,o=u?F:z,s=!1,c=o(n.desc||new A(this,"flatMap_",arguments),function(e){var o=new Q,c=[],a=function(n){if(u&&n.isInitial){if(s)return Lt;s=!0}var r=ht(t(n));return i.push(r),o.add(function(t,n){return r.dispatcher.subscribe(function(u){if(u.isEnd)return Mt.remove(r,i),f(),l(n),Vt;u=u.toNext();var o=e(u);return o===Vt&&t(),o})})},f=function(){var t=c.shift();if(t)return a(t)},l=function(t){if(t(),o.empty())return e(E())};return o.add(function(t,i){return r.dispatcher.subscribe(function(t){return t.isEnd?l(i):t.isError&&!n.mapError?e(t):n.firstOnly&&o.count()>1?Lt:o.unsubscribed?Vt:n.limit&&o.count()>n.limit?c.push(t):a(t)})}),o.unsubscribe});return c.internalDeps=function(){return i.length?e.concat(i):e},c};var Xt=function(t){return function(n){return t(n.value)}};V.prototype.flatMapWithConcurrencyLimit=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];return this.flatMap_(Xt(pt(r)),{limit:t,desc:new A(this,"flatMapWithConcurrencyLimit",[t].concat(r))})},V.prototype.flatMapConcat=function(){return j(new A(this,"flatMapConcat",Array.prototype.slice.call(arguments,0)),this.flatMapWithConcurrencyLimit.apply(this,[1].concat(Array.prototype.slice.call(arguments))))},z.prototype.concat=function(n,r){var e=this;return new z(new A(e,"concat",[n]),function(r){var i=t,u=e.dispatcher.subscribe(function(t){return t.isEnd?i=n.toEventStream().dispatcher.subscribe(r):r(t)});return function(){return u(),i()}},null,r)},H.prototype.concat=function(t){return dt(this,this.changes().concat(t))},Kt.concatAll=function(){var t=at(arguments);return t.length?j(new A(Kt,"concatAll",t),Mt.fold(Mt.tail(t),Mt.head(t).toEventStream(),function(t,n){return t.concat(n)})):Y()},Kt.fromBinder=yt,Kt.later=vt,V.prototype.bufferingThrottle=function(t){return j(new A(this,"bufferingThrottle",[t]),this.flatMapConcat(function(n){return lt(n).concat(vt(t).filter(!1))}))},H.prototype.bufferingThrottle=function(){return V.prototype.bufferingThrottle.apply(this,arguments).toProperty()},l(gt,z),f(gt.prototype,{unsubAll:function(){for(var t,n=this.subscriptions,r=0;r<n.length;r++)t=n[r],"function"==typeof t.unsub&&t.unsub()},subscribeAll:function(t){if(this.ended)t(E());else{this.sink=t;for(var n,e=r(this.subscriptions),i=0;i<e.length;i++)n=e[i],this.subscribeInput(n)}return this.unsubAll},guardedSink:function(t){var n=this;return function(r){return r.isEnd?(n.unsubscribeInput(t),Kt.noMore):n.sink(r)}},subscribeInput:function(t){return t.unsub=t.input.dispatcher.subscribe(this.guardedSink(t.input)),t.unsub},unsubscribeInput:function(t){for(var n,r=this.subscriptions,e=0;e<r.length;e++)if(n=r[e],n.input===t)return"function"==typeof n.unsub&&n.unsub(),void this.subscriptions.splice(e,1)},plug:function(t){var n=this;if(o(t),!this.ended){var r={input:t};return this.subscriptions.push(r),void 0!==this.sink&&this.subscribeInput(r),function(){return n.unsubscribeInput(t)}}},end:function(){if(this.ended=!0,this.unsubAll(),"function"==typeof this.sink)return this.sink(E())},push:function(t){if(!this.ended&&"function"==typeof this.sink){var n=!this.pushing;if(!n)return this.pushQueue||(this.pushQueue=[]),void this.pushQueue.push(t);this.pushing=!0;try{return this.sink(w(t))}finally{if(n&&this.pushQueue){for(var r=0;r<this.pushQueue.length;){var e=this.pushQueue[r];this.sink(w(e)),r++}this.pushQueue=null}this.pushing=!1}}},error:function(t){if("function"==typeof this.sink)return this.sink(new m(t))}}),Kt.Bus=gt,V.prototype.flatMap=function(){return this.flatMap_(Xt(pt(arguments)),{desc:new A(this,"flatMap",arguments)})};var Gt=function(t,n){return I(function(r){for(var e=W(n,[function(t,n){return r.apply(void 0,t.concat([n]))}]),i=arguments.length,u=Array(i>1?i-1:0),o=1;o<i;o++)u[o-1]=arguments[o];return j(new A(Kt,t,[r].concat(u)),Kt.combineAsArray(u).flatMap(e).changes())})};Kt.fromCallback=Gt("fromCallback",function(n){for(var r=arguments.length,e=Array(r>1?r-1:0),i=1;i<r;i++)e[i-1]=arguments[i];return yt(function(r){return q(n,e)(r),t},function(t){return[t,E()]})}),Kt.fromNodeCallback=Gt("fromNodeCallback",function(n){for(var r=arguments.length,e=Array(r>1?r-1:0),i=1;i<r;i++)e[i-1]=arguments[i];return yt(function(r){return q(n,e)(r),t},function(t,n){return t?[new m(t),E()]:[n,E()]})}),Kt.combineTemplate=mt,V.prototype.mapEnd=function(){var t=T(arguments);return j(new A(this,"mapEnd",[t]),this.withHandler(function(n){return n.isEnd?(this.push(w(t(n))),this.push(E()),Vt):this.push(n)}))},V.prototype.skipErrors=function(){return j(new A(this,"skipErrors",[]),this.withHandler(function(t){return t.isError?Lt:this.push(t)}))},V.prototype.takeUntil=function(t){var n={},r=st([this.mapEnd(n),t.skipErrors()],Yt);this instanceof H&&(r=r.toProperty());var e=r.withHandler(function(t){if(t.hasValue){var r=t.value,e=r[0];if(r[1].length)return this.push(E());for(var i,u=Lt,o=0;o<e.length;o++)i=e[o],u=i===n?this.push(E()):this.push(w(i));return u}return this.push(t)});return j(new A(this,"takeUntil",[t]),e)},V.prototype.flatMapLatest=function(){var t=pt(arguments),n=this._isProperty?this.toEventStream(Yt):this,r=n.flatMap(function(r){return ht(t(r)).takeUntil(n)});return this._isProperty&&(r=r.toProperty()),j(new A(this,"flatMapLatest",[t]),r)},H.prototype.delayChanges=function(t,n){return j(t,dt(this,n(this.changes())))},z.prototype.delayChanges=function(t,n){return j(t,n(this))},V.prototype.delay=function(t){return this.delayChanges(new A(this,"delay",[t]),function(n){return n.flatMap(function(n){return vt(t,n)})})},Kt.Observable.prototype.debounce=function(t){return this.delayChanges(new A(this,"debounce",[t]),function(n){return n.flatMapLatest(function(n){return Kt.later(t,n)})})},Kt.Observable.prototype.debounceImmediate=function(t){return this.delayChanges(new A(this,"debounceImmediate",[t]),function(n){return n.flatMapFirst(function(n){return Kt.once(n).concat(Kt.later(t).filter(!1))})})},V.prototype.decode=function(t){return j(new A(this,"decode",[t]),this.combine(mt(t),function(t,n){return n[t]}))},V.prototype.scan=bt,V.prototype.diff=function(t,n){return n=D(n),j(new A(this,"diff",[t,n]),this.scan([t],function(t,r){return[r,n(t[0],r)]}).filter(function(t){return 2===t.length}).map(function(t){return t[1]}))},V.prototype.doAction=function(){var t=T(arguments);return j(new A(this,"doAction",[t]),this.withHandler(function(n){return n.hasValue&&t(n.value),this.push(n)}))},V.prototype.doEnd=function(){var t=T(arguments);return j(new A(this,"doEnd",[t]),this.withHandler(function(n){return n.isEnd&&t(),this.push(n)}))},V.prototype.doError=function(){var t=T(arguments);return j(new A(this,"doError",[t]),this.withHandler(function(n){return n.isError&&t(n.error),this.push(n)}))},V.prototype.doLog=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return j(new A(this,"doLog",n),this.withHandler(function(t){if("undefined"!=typeof console&&null!==console&&"function"==typeof console.log){var r;(r=console).log.apply(r,n.concat([t.log()]))}return this.push(t)}))},V.prototype.endOnError=function(t){void 0!==t&&null!==t||(t=!0);for(var n=arguments.length,r=Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];return M(this,t,r,function(t){return j(new A(this,"endOnError",[]),this.withHandler(function(n){return n.isError&&t(n.error)?(this.push(n),this.push(E())):this.push(n)}))})},V.prototype.errors=function(){return j(new A(this,"errors",[]),this.filter(function(){return!1}))},wt.prototype.subscribe=function(t,n,r){var e="function"==typeof t?{next:t,error:n,complete:r}:t,i={closed:!1,unsubscribe:function(){i.closed=!0,u()}},u=this.observable.subscribe(function(t){t.isError?(e.error&&e.error(t.error),i.unsubscribe()):t.isEnd?(i.closed=!0,e.complete&&e.complete()):e.next&&e.next(t.value)});return i},wt.prototype[p("observable")]=function(){return this},V.prototype.toESObservable=function(){return new wt(this)},V.prototype[p("observable")]=V.prototype.toESObservable,V.prototype.take=function(t){return t<=0?Y():j(new A(this,"take",[t]),this.withHandler(function(n){return n.hasValue?(t--,t>0?this.push(n):(0===t&&this.push(n),this.push(E()),Vt)):this.push(n)}))},V.prototype.first=function(){return j(new A(this,"first",[]),this.take(1))},V.prototype.flatMapEvent=function(){return this.flatMap_(pt(arguments),{mapError:!0,desc:new A(this,"flatMapEvent",arguments)})},V.prototype.flatMapFirst=function(){return this.flatMap_(Xt(pt(arguments)),{firstOnly:!0,desc:new A(this,"flatMapFirst",arguments)})},V.prototype.mapError=function(){var t=T(arguments);return j(new A(this,"mapError",[t]),this.withHandler(function(n){return n.isError?this.push(w(t(n.error))):this.push(n)}))},V.prototype.flatMapError=function(t){return this.flatMap_(function(n){return n instanceof m?t(n.error):n},{mapError:!0,desc:new A(this,"flatMapError",[t])})},V.prototype.flatScan=function(t,n){var r=t;return this.flatMapConcat(function(t){return ht(n(r,t)).doAction(function(t){return r=t})}).toProperty(t)},z.prototype.sampledBy=function(t,n){return j(new A(this,"sampledBy",[t,n]),this.toProperty().sampledBy(t,n))},H.prototype.sampledBy=function(t,n){n=void 0!==n&&null!==n?D(n):Kt._.id;var r=new Z(this,!1),e=new Z(t,!0),i=t._isProperty?tt:G,u=i([r,e],n);return j(new A(this,"sampledBy",[t,n]),u)},H.prototype.sample=function(t){return j(new A(this,"sample",[t]),this.sampledBy(Kt.interval(t,{})))},V.prototype.map=function(t){return t&&t._isProperty?t.sampledBy(this,n):K.apply(this,arguments)},V.prototype.fold=function(t,n){return j(new A(this,"fold",[t,n]),this.scan(t,n).sampledBy(this.filter(!1).mapEnd().toProperty()))},V.prototype.reduce=V.prototype.fold,Kt.fromArray=function(t){if(c(t),t.length){var n=0,r=new z(new A(Kt,"fromArray",[t]),function(e){function i(){if(c=!0,!s){for(s=!0;c;)if(c=!1,o!==Vt&&!u){var a=t[n++];o=e(x(a)),o!==Vt&&(n===t.length?e(E()):Rt.afterTransaction(r,i))}return s=!1}}var u=!1,o=Lt,s=!1,c=!1;return Rt.soonButNotYet(r,i),function(){return u=!0}});return r}return j(new A(Kt,"fromArray",t),Y())},Kt.fromESObservable=function(t){var n;return n=t[p("observable")]?t[p("observable")]():t,new z(new A(Kt,"fromESObservable",[n]),function(t){var r=n.subscribe({error:function(){t(new Kt.Error),t(new Kt.End)},next:function(n){t(new Kt.Next(n,!0))},complete:function(){t(new Kt.End)}});return r.unsubscribe?function(){r.unsubscribe()}:r})};var tn=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"],["bind","unbind"]],nn=function(t){for(var n,r=0;r<tn.length;r++){n=tn[r];var e=[t[n[0]],t[n[1]]];if(e[0]&&e[1])return e}for(var i=0;i<tn.length;i++){n=tn[i];var u=t[n[0]];if(u)return[u,function(){}]}throw new Error("No suitable event methods in "+t)};return Kt.fromEvent=Kt.fromEventTarget=Et,Kt.fromPoll=xt,Kt.fromPromise=At,V.prototype.groupBy=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mt.id,r={},e=this;return e.filter(function(n){return!r[t(n)]}).map(function(i){var u=t(i),o=e.filter(function(n){return t(n)===u}),s=lt(i).concat(o),c=n(s,i).withHandler(function(t){if(this.push(t),t.isEnd)return delete r[u]});return r[u]=c,c})},z.prototype.holdWhen=function(t){var n=!1,r=[],e=this,i=!1;return new z(new A(this,"holdWhen",[t]),function(u){var o=new Q,s=!1,c=function(t){if("function"==typeof t&&t(),o.empty()&&s)return u(E())};return o.add(function(e,o){return t.subscribeInternal(function(t){if(!t.hasValue)return t.isEnd?c(o):u(t);if(!(n=t.value)){var e=r;return r=[],function(){for(var t,n=[],r=0;r<e.length;r++)t=e[r],n.push(u(w(t)));return i&&(n.push(u(E())),o()),n}()}})}),o.add(function(t,o){return e.subscribeInternal(function(t){return n&&t.hasValue?r.push(t.value):t.isEnd&&r.length?(i=!0,c(o)):u(t)})}),s=!0,c(),o.unsubscribe})},Kt.interval=Ot,Kt.$={},Kt.$.asEventStream=function(t,n,r){var e=this;return Mt.isFunction(n)&&(r=n,n=void 0),j(new A(this.selector||this,"asEventStream",[t]),yt(function(r){return e.on(t,n,r),function(){return e.off(t,n,r)}},r))},"undefined"!=typeof jQuery&&jQuery&&(jQuery.fn.asEventStream=Kt.$.asEventStream),"undefined"!=typeof Zepto&&Zepto&&(Zepto.fn.asEventStream=Kt.$.asEventStream),V.prototype.last=function(){var t;return j(new A(this,"last",[]),this.withHandler(function(n){if(n.isEnd)return t&&this.push(t),this.push(E()),Vt;t=n}))},V.prototype.log=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.subscribe(function(t){if("undefined"!=typeof console&&"function"==typeof console.log){var r;(r=console).log.apply(r,n.concat([t.log()]))}}),this},z.prototype.merge=function(t){return u(t),j(new A(this,"merge",[t]),jt(this,t))},Kt.mergeAll=jt,Kt.repeatedly=_t,Kt.repeat=kt,Kt.retry=function(t){if(!Mt.isFunction(t.source))throw new Error("'source' option has to be a function");var n=t.source,r=t.retries||0,e=0,i=t.delay||function(){return 0},u=t.isRetryable||function(){return!0},o=!1,s=null;return j(new A(Kt,"retry",[t]),Kt.repeat(function(t){function c(){return n(t).endOnError().withHandler(function(t){return t.isError?(s=t,u(s.error)&&(0===r||e<r)?void 0:(o=!0,this.push(t))):(t.hasValue&&(s=null,o=!0),this.push(t))})}if(o)return null;if(s){var a={error:s.error,retriesDone:e},f=vt(i(a)).filter(!1);return e++,f.concat(Kt.once().flatMap(c))}return c()}))},Kt.sequentially=It,V.prototype.skip=function(t){return j(new A(this,"skip",[t]),this.withHandler(function(n){return n.hasValue&&t>0?(t--,Lt):this.push(n)}))},z.prototype.skipUntil=function(t){var n=t.take(1).map(!0).toProperty(!1);return j(new A(this,"skipUntil",[t]),this.filter(n))},z.prototype.skipWhile=function(t){i(t);for(var n=!1,r=arguments.length,e=Array(r>1?r-1:0),u=1;u<r;u++)e[u-1]=arguments[u];return M(this,t,e,function(t){return j(new A(this,"skipWhile",[t]),this.withHandler(function(r){return!n&&r.hasValue&&t(r.value)?Lt:(r.hasValue&&(n=!0),this.push(r))}))})},H.prototype.startWith=function(t){return j(new A(this,"startWith",[t]),this.scan(t,function(t,n){return n}))},z.prototype.startWith=function(t){return j(new A(this,"startWith",[t]),lt(t).concat(this))},V.prototype.slidingWindow=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return j(new A(this,"slidingWindow",[t,n]),this.scan([],function(n,r){return n.concat([r]).slice(-t)}).filter(function(t){return t.length>=n}))},V.prototype.takeWhile=function(t){i(t);for(var n=arguments.length,r=Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];return M(this,t,r,function(t){return j(new A(this,"takeWhile",[t]),this.withHandler(function(n){return n.filter(t)?this.push(n):(this.push(E()),Vt)}))})},V.prototype.throttle=function(t){return this.delayChanges(new A(this,"throttle",[t]),function(n){return n.bufferWithTime(t).map(function(t){return t[t.length-1]})})},H.prototype.toEventStream=function(t){var n=this;return new z(new A(this,"toEventStream",[]),function(t){return n.dispatcher.subscribe(function(n){return t(n.toNext())})},null,t)},V.prototype.firstToPromise=function(t){var n=this;if("function"!=typeof t){if("function"!=typeof Promise)throw new Error("There isn't default Promise, use shim or parameter");t=Promise}return new t(function(t,r){return n.subscribe(function(n){return n.hasValue&&t(n.value),n.isError&&r(n.error),Vt})})},V.prototype.toPromise=function(t){return this.last().firstToPromise(t)},Kt.try=Tt,Kt.update=Wt,Kt.zipAsArray=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var e=at(n);return j(new A(Kt,"zipAsArray",e),Kt.zipWith(e,function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return n}))},Kt.zipWith=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var e=ft(n),i=e[0],u=e[1];return i=Mt.map(function(t){return t.toEventStream()},i),j(new A(Kt,"zipWith",[u].concat(i)),Kt.when(i,u))},V.prototype.zip=function(t,n){return j(new A(this,"zip",[t]),Kt.zipWith([this,t],n||Array))},Kt}),function(t,e){"function"==typeof r&&r.amd?r("datalist",["vendor/ramda","vendor/Bacon"],e):"object"==typeof module&&module.exports?module.exports=e(n("ramda"),n("baconjs")):t.DataListJS=e(t.R,t.Bacon)}("undefined"!=typeof self?self:this,function(t,n){function r(n,r){const e=t.merge({styles:{}},r||{}),i=t.merge({padding:"3px"},e.styles),u=document.createElement("li");return u.textContent=n,e.cssClassName&&u.classList.add(e.cssClassName),t.forEachObjIndexed(c(u.style),i),u}function e(t){const n=document.createDocumentFragment();return t.forEach(function(t){n.appendChild(t)}),n}function i(t,r){return n.fromBinder(function(n){const e=new MutationObserver(n);return e.observe(r,t),function(){e.disconnect()}})}function u(u,c){const a=c||{},y=(u||document.body).querySelectorAll("input[list]"),v=n.fromEvent(window,"resize"),g=t.partialRight(r,[a.listItemStyle]),m=function(r){const u=d(r,a.uListStyle),c=document.getElementById(r.getAttribute("list")),y=c.getElementsByTagName("option"),m=h.bind(void 0,u,r),b=i({childList:!0},c).filter(t.filter(t.propEq("type","childList"))).map(y).toProperty(y).map(t.pluck("value")),w=n.mergeAll(n.fromEvent(r,"focus").map(!0),n.fromEvent(r,"blur").delay(20).map(!1)).toProperty(document.activeElement===r),E=w.filter(o).toEventStream(),x=w.filter(s).toEventStream(),S=n.mergeAll(n.fromEvent(r,"input"),n.fromEvent(r,"change")).map(t.path(["target","value"])).toProperty(r.value).skipDuplicates(),A=function(){u.style.display="none"},O=function(){u.style.display="block"},j=l(u),_=n.combineWith(function(n,r){return t.filter(t.useWith(t.contains,[t.toLower,t.toLower])(n),r)},S,b),k=_.filter(t.complement(t.isEmpty)).skipDuplicates(t.equals).map(t.map(g)),I=_.map(t.complement(t.isEmpty)).changes(),T=k.map(t.map(function(r){return n.fromEvent(r,"click",t.compose(t.trim,t.path(["target","textContent"]))).first()})).flatMap(n.mergeAll).filter(w);return n.mergeAll(E.filter(_.map(t.complement(t.isEmpty))),I.filter(o).filter(w)).onValue(O),n.mergeAll(x,I.filter(s)).onValue(A),k.onValue(t.compose(j,e)),n.mergeAll(v,n.once(void 0)).onValue(m),T.onValue(p(r)),f(u),r.parentElement.appendChild(u),m},b=t.map(m,Array.from(y));return function(){t.forEach(t.call,b)}}const o=t.identical(!0),s=t.identical(!1),c=t.curry(function(t,n,r){t[r]=n}),a=function(t){return t.scrollHeight-t.scrollTop<=t.clientHeight},f=function(t){function r(r){if(1===r.targetTouches.length){n.fromEvent(t,"touchmove").filter(function(n){if(1!==n.targetTouches.length)return!1;const e=n.targetTouches[0].clientY-r.targetTouches[0].clientY>0;return e&&0===t.scrollTop||!e&&a(t)}).takeUntil(n.fromEvent(t,"touchend")).onValue(function(t){t.preventDefault()})}}
return t.addEventListener("touchstart",r,!1),function(){t.removeEventListener("touchstart",r)}},l=t.curry(function(t,n){const r=document.createRange();r.selectNodeContents(t),r.deleteContents(),r.insertNode(n)}),p=t.curry(function(t,n){t.value=n,t.dispatchEvent(new Event("change"))}),h=function(t,n){t.style.top=n.offsetTop+n.offsetHeight+"px",t.style.left=n.offsetLeft+"px",t.style.width=n.offsetWidth+"px"},d=function(n,r){const e=t.merge({cssClassName:"ul-datalist-polyfill",styles:{}},r||{}),i=document.createElement("ul"),u=window.getComputedStyle(n),o=t.merge({display:"none",listStyle:"none",position:"absolute",overflowY:"auto",padding:"0px",margin:"0px",boxShadow:"rgb(128, 128, 128) 0px 2px 2px 0px",maxHeight:"150px",zIndex:"1",backgroundColor:u.backgroundColor,color:u.color},e.styles||{});return i.classList.add(e.cssClassName),t.forEachObjIndexed(c(i.style),o),i};return{polyfill:u,isNotNativelySupported:void 0===window.HTMLDataListElement}}),n("datalist")});
//# sourceMappingURL=datalist.min.js.map